{"version":3,"file":"bundle.js","sources":["webpack:///bundle.js"],"sourcesContent":["!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=45)}([function(e,t,n){\"use strict\";var r=n(16);const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,a=(s=Object.create(null),e=>{const t=o.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())});var s;const l=e=>(e=e.toLowerCase(),t=>a(t)===e),c=e=>t=>typeof t===e,{isArray:u}=Array,d=c(\"undefined\");const f=l(\"ArrayBuffer\");const h=c(\"string\"),p=c(\"function\"),m=c(\"number\"),g=e=>null!==e&&\"object\"==typeof e,_=e=>{if(\"object\"!==a(e))return!1;const t=i(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},y=l(\"Date\"),v=l(\"File\"),b=l(\"Blob\"),w=l(\"FileList\"),E=l(\"URLSearchParams\");function x(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if(\"object\"!=typeof e&&(e=[e]),u(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}const C=(A=\"undefined\"!=typeof Uint8Array&&i(Uint8Array),e=>A&&e instanceof A);var A;const S=l(\"HTMLFormElement\"),O=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),T=l(\"RegExp\"),P=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};x(n,(n,o)=>{!1!==t(n,o,e)&&(r[o]=n)}),Object.defineProperties(e,r)};t.a={isArray:u,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&p(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>e&&(\"function\"==typeof FormData&&e instanceof FormData||\"[object FormData]\"===o.call(e)||p(e.toString)&&\"[object FormData]\"===e.toString()),isArrayBufferView:function(e){let t;return t=\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:h,isNumber:m,isBoolean:e=>!0===e||!1===e,isObject:g,isPlainObject:_,isUndefined:d,isDate:y,isFile:v,isBlob:b,isRegExp:T,isFunction:p,isStream:e=>g(e)&&p(e.pipe),isURLSearchParams:E,isTypedArray:C,isFileList:w,forEach:x,merge:function e(){const t={},n=(n,r)=>{_(t[r])&&_(n)?t[r]=e(t[r],n):_(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&x(arguments[e],n);return t},extend:(e,t,n,{allOwnKeys:o}={})=>(x(t,(t,o)=>{n&&p(t)?e[o]=Object(r.a)(t,n):e[o]=t},{allOwnKeys:o}),e),trim:e=>e.trim?e.trim():e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\"),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,\"super\",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,a,s;const l={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)s=o[a],r&&!r(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&i(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:l,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!m(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:S,hasOwnProperty:O,hasOwnProp:O,reduceDescriptors:P,freezeMethods:e=>{P(e,(t,n)=>{const r=e[n];p(r)&&(t.enumerable=!1,\"writable\"in t?t.writable=!1:t.set||(t.set=()=>{throw Error(\"Can not read-only method '\"+n+\"'\")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return u(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[_-\\s]([a-z\\d])(\\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return o})),n.d(t,\"c\",(function(){return i}));var r={};n.r(r),n.d(r,\"toRgba\",(function(){return s})),n.d(r,\"toRgbaString\",(function(){return l})),n.d(r,\"hue\",(function(){return c})),n.d(r,\"saturation\",(function(){return u})),n.d(r,\"contrast\",(function(){return d})),n.d(r,\"tint\",(function(){return f})),n.d(r,\"transform\",(function(){return h})),n.d(r,\"invert\",(function(){return p}));var o={};n.r(o),n.d(o,\"toRadians\",(function(){return _})),n.d(o,\"toDegrees\",(function(){return y})),n.d(o,\"random\",(function(){return v})),n.d(o,\"randomBoolean\",(function(){return b})),n.d(o,\"randomWeightedKey\",(function(){return w})),n.d(o,\"rel\",(function(){return E})),n.d(o,\"inRange\",(function(){return x})),n.d(o,\"isNumber\",(function(){return C})),n.d(o,\"toNumber\",(function(){return A})),n.d(o,\"restrict\",(function(){return S})),n.d(o,\"getAnglePoint\",(function(){return O})),n.d(o,\"getAngle\",(function(){return T})),n.d(o,\"getDistance\",(function(){return P}));var i={};n.r(i),n.d(i,\"clone\",(function(){return k})),n.d(i,\"defaults\",(function(){return D})),n.d(i,\"objectifier\",(function(){return R}));var a=new function(){this.gpsSuccessCallback,this.gpsFailCallback,this.getGPSData=function(e,t){navigator.geolocation?(a.gpsSuccessCallback=e,a.gpsFailCallback=t,navigator.geolocation.getCurrentPosition(a.onLocationRetrieved,a.onLocationFailed)):console.log(\"geolocation not available\")},this.onLocationRetrieved=function(e){a.gpsSuccessCallback(e.coords)},this.onLocationFailed=function(e){switch(console.log(\"Error retrieving location data\"),e.code){case 0:console.log(\"0 - unknown error\");break;case 1:console.log(\"1 - permission denied\");break;case 2:console.log(\"2 - position unavailable (error response from locaton\");break;case 3:console.log(\"3 - timed out\")}a.gpsFailCallback&&a.gpsFailCallback(e)}};!function(){var e,t,n,r,o,i=0,a=0,s=0,l=0,c=!0,u=1;function d(d){switch(window.orientation){case-90:a=d.gamma,i=-d.beta;break;case 90:a=-d.gamma,i=d.beta;break;case 180:a=-d.beta,i=-d.gamma;break;default:a=d.beta,i=d.gamma}c&&(s=i,l=a,c=!1),i-=s,a-=l,i*=u,a*=u,e&&i<e&&(i=e),t&&i>t&&(i=t),n&&a<n&&(a=n),r&&a>r&&(a=r),o(i,a)}}();function s(e,t){switch(typeof e){case\"object\":e=e||{r:0,g:0,b:0,a:1};break;default:if(e.indexOf(\"rgb\")>=0)e=e.substring(e.indexOf(\"(\")+1,e.lastIndexOf(\")\")).split(/,\\s*/),e={r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2]),a:Number(e[3])};else{if(!(e.indexOf(\"#\")>=0))return console.log(\"\"),console.log(\"ERROR: ColorUtils.toRgba does not accept color names such as '\"+e+\"'. Use HEX or an RGB/A string or object per documentation\"),console.log(\"Returning the color '\"+e+\"' without any alpha\"),console.log(\"\"),e;var n=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i.exec(e);e=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:n[4]?Number(n[4],16):1}:null}}return e.a||(e.a=1),t>=0&&(e.a=t),e}function l(e,t){return\"rgba(\"+(e=s(e,t)).r+\",\"+e.g+\",\"+e.b+\",\"+e.a+\")\"}function c(e){var t=function(e){var t,n=e.r/255,r=e.g/255,o=e.b/255,i=Math.max(n,r,o),a=Math.min(n,r,o),s=i-a,l=(i+a)/2,c=0;c=0==s?0:i==n?(r-o)/s%6*60:i==r?60*((o-n)/s+2):60*((n-r)/s+4);return t=s?s/(1-Math.abs(2*l-1)):0,{h:c,s:t,l:l}}((e=m(e)).from);t.h=(t.h+e.amount)%360,t.h<0&&(t.h+=360);var n=function(e){var t,n,r,o=e.h/60,i=e.s,a=e.l,s=(1-Math.abs(2*a-1))*i,l=s*(1-Math.abs(o%2-1)),c=a-s/2;switch(o=Math.floor(o)){case 0:t=s,n=l,r=0;break;case 1:t=l,n=s,r=0;break;case 2:t=0,n=s,r=l;break;case 3:t=0,n=l,r=s;break;case 4:t=l,n=0,r=s;break;case 5:t=s,n=0,r=l}return{r:g(t,c),g:g(n,c),b:g(r,c)}}(t);return e.from.a>=0&&(n.a=e.from.a),\"object\"===e.format?n:l(n)}function u(e){delete e.to,e=m(e);var t={};for(var n in e.from){var r=parseInt(e.from[n]);if(\"a\"===n)t[n]=r;else{if(\"r\"===n){var o=0,i=255;for(var a in e.from)parseInt(e.from[a])>o&&(o=parseInt(e.from[a])),parseInt(e.from[a])<i&&(i=parseInt(e.from[a]))}t[n]=Math.round(r*e.amount+(1-e.amount)*((o+i)/2))}}return\"object\"===e.format?t:l(t)}function d(e){delete e.to,e=m(e);var t={};for(var n in e.from){var r=parseInt(e.from[n]);t[n]=\"a\"===n?r:Math.round(r*e.amount)}return\"object\"===e.format?t:l(t)}function f(e){e=m(e);var t={};for(var n in e.from){var r=parseInt(e.from[n]);t[n]=\"a\"===n?r:Math.round(r+(parseInt(e.to[n])-r)*e.amount)}return\"object\"===e.format?t:l(t)}function h(e){e=m(e);var t={};for(var n in e.from){var r=parseInt(e.from[n]);t[n]=\"a\"===n?r:Math.round(r-(255-parseInt(e.to[n]))*e.amount)}return\"object\"===e.format?t:l(t)}function p(e){delete e.to,delete e.amount,e=m(e);var t={};for(var n in e.from){var r=parseInt(e.from[n]);t[n]=\"a\"===n?r:255-r}return\"object\"===e.format?t:l(t)}function m(e){return e.from=e.from||e.color,e.from&&\"object\"!=typeof e.from&&(e.from=s(e.from)),e.to&&\"object\"!=typeof e.to&&(e.to=s(e.to)),e.amount=void 0===e.amount?1:e.amount,e}function g(e,t){return(e=Math.floor(255*(e+t)))<0&&(e=0),e}function _(e){return Math.PI/180*e}function y(e){return 180/Math.PI*e}function v(e,t,n){t=t||0,n=null!=n&&n>0?n:1;var r=Math.min(e,t),o=Math.max(e,t);return r=Math.ceil(r/n)*n,o=Math.floor(o/n)*n,r+Math.floor(Math.random()*((o-r+n)/n))/(1/n)}function b(e){return e=e||.5,Math.random()<e}function w(e){var t=[],n=[0];for(var r in e)t.push(r),n.push(e[r]+(n[n.length-1]||0));for(var o=100*Math.random().toFixed(2),i=0;i<n.length-1;i++){if(x(o,n[i],n[i+1]))return t[i]}}function E(e,t,n,r,o){return(o-n)/(r-n)*(t-e)+e}function x(e,t,n){var r=Math.min(t,n);return e<=Math.max(t,n)&&e>=r}function C(e){return!isNaN(e)}function A(e){return+e}function S(e,t,n){return Math.max(t,Math.min(n,e))}function O(e,t,n,r){return[e=e+Math.cos(r)*n,t=t+Math.sin(r)*n]}function T(e,t,n,r){return n=n||0,r=r||0,Math.atan2(r-t,n-e)}function P(e,t,n,r){return n=n||0,r=r||0,Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))}var R={};function k(e){if(\"[object Object]\"!==Object.prototype.toString.call(e))return e;var t=e.constructor();for(var n in e)t[n]=k(e[n]);return t}function D(e,t,n){void 0===e&&(e={});var r=k(e);for(var o in t){var i=t[o];void 0===r[o]?r[o]=t[o]:n&&\"[object Object]\"===Object.prototype.toString.call(i)&&(r[o]=D(r[o],i,n))}return r}R.get=function(e,t){void 0===t&&(t=window);var n=R._getSplits(e).splits;return R._getProperty(n,t)},R.set=function(e,t,n){void 0===n&&(n=window);var r=R._getSplits(e,!0);R._getProperty(r.splits,n)[r.lastKey]=t},R._getSplits=function(e,t){var n=e.split(\".\"),r=t?n.pop():null;return{splits:n,lastKey:r}},R._getProperty=function(e,t){void 0===t&&(t={});for(var n,r=t,o=0;r&&(n=e[o]);o++)r=n in r?r[n]:void 0;return r};n(25)},function(e,t,n){\"use strict\";var r=n(0);function o(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name=\"AxiosError\",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.a.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const i=o.prototype,a={};[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\",\"ERR_NOT_SUPPORT\",\"ERR_INVALID_URL\"].forEach(e=>{a[e]={value:e}}),Object.defineProperties(o,a),Object.defineProperty(i,\"isAxiosError\",{value:!0}),o.from=(e,t,n,a,s,l)=>{const c=Object.create(i);return r.a.toFlatObject(e,c,(function(e){return e!==Error.prototype}),e=>\"isAxiosError\"!==e),o.call(c,e.message,t,n,a,s),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c},t.a=o},function(e,t,n){\"use strict\";function r(e){return e.match(/\\(([^\\)]+)\\)/)[1].replace(/\\s|px/g,\"\").split(\",\").map(Number)}n.d(t,\"e\",(function(){return r})),n.d(t,\"a\",(function(){return i})),n.d(t,\"b\",(function(){return s})),n.d(t,\"c\",(function(){return f})),n.d(t,\"d\",(function(){return c}));var o=function(){var e=this;e.identity=new Float32Array([1,0,0,0,1,0]),e.data=new Float32Array(e.identity)};o.prototype={clear:function(){this.data=new Float32Array(this.identity)},rotate:function(e){var t=this,n=new Float32Array(t.identity),r=Math.cos(e).toFixed(15),o=Math.sin(e).toFixed(15);return n[0]=r,n[1]=o,n[3]=-o,n[4]=r,t.multiply(n,!1),t},scale:function(e,t){var n=this,r=new Float32Array(n.identity);return r[0]=e,r[4]=t,n.multiply(r,!1),n},skew:function(e,t){var n=this,r=new Float32Array(n.identity);return r[1]=Math.tan(e),r[3]=Math.tan(t),n.multiply(r),n},translate:function(e,t){var n=this,r=new Float32Array(n.identity);return r[2]=e||0,r[5]=t||0,n.multiply(r,!0),n},multiply:function(e,t){for(var n=this,r=new Float32Array(n.data),o=t?e:r,i=t?r:e,a=0;a<6;a++){var s=3*Math.floor(a/3),l=a%3;n.data[a]=o[s]*i[l]+o[s+1]*i[l+3]}n.data[2]+=o[2],n.data[5]+=o[5]},getCss:function(){var e=this.data;return\"matrix(\"+e[0]+\",\"+e[1]+\",\"+e[3]+\",\"+e[4]+\",\"+e[2]+\",\"+e[5]+\")\"},getX:function(){return this.data[2]},getY:function(){return this.data[5]},setFromCss:function(e){var t=r(e);this.setFromArray(t)},setFromArray:function(e){this.data=[e[0],e[1],e[4],e[2],e[3],e[5]]}};var i=o,a=function(){var e=this;e.identity=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.data=new Float32Array(e.identity)};a.prototype={clear:function(){this.data.set(this.identity)},rotateX:function(e){var t=this,n=Math.cos(e).toFixed(15),r=Math.sin(e).toFixed(15),o=new Float32Array(t.identity);return o[5]=n,o[6]=r,o[9]=-r,o[10]=n,t.multiply(o),t},rotateY:function(e){var t=this,n=Math.cos(e).toFixed(15),r=Math.sin(e).toFixed(15),o=new Float32Array(t.identity);return o[0]=n,o[2]=-r,o[8]=r,o[10]=n,t.multiply(o),t},rotateZ:function(e){var t=this,n=Math.cos(e).toFixed(15),r=Math.sin(e).toFixed(15),o=new Float32Array(t.identity);return o[0]=n,o[1]=r,o[4]=-r,o[5]=n,t.multiply(o),t},scale:function(e,t){var n=this,r=new Float32Array(n.identity);return r[0]=e,r[5]=t,n.multiply(r),n},skew:function(e,t){var n=this,r=new Float32Array(n.identity);return r[1]=Math.tan(t)||0,r[4]=Math.tan(e)||0,n.multiply(r),n},translate:function(e,t,n){var r=new Float32Array(this.identity);return r[12]=e||0,r[13]=t||0,r[14]=n||0,this.multiply(r),this},multiply:function(e){for(var t=this,n=new Float32Array(t.data),r=0;r<15;r++){var o=4*Math.floor(r/4),i=r%3;(r-3)%4?(t.data[r]=n[o]*e[i]+n[o+1]*e[i+4]+n[o+2]*e[i+8],r>11&&(t.data[r]+=e[r])):t.data[r]=0}t.data[15]=1},getCss:function(){return\"matrix3d(\"+this.data.join(\",\")+\")\"},getX:function(){return this.data[12]},getY:function(){return this.data[13]},getZ:function(){return this.data[14]},setFromCss:function(e){var t=r(e);this.setFromArray(t)},setFromArray:function(e){var t=this;3===e.length?t.translate.apply(t,e):t.data=new Float32Array(e)}};var s=a,l=n(1),c=function(){function e(e,t){this.x=e||0,this.y=t||0}var t=e.prototype;return t.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.dist=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},t.mult=function(e){return this.x*=e,this.y*=e,this},t.div=function(e){return this.x/=e,this.y/=e,this},t.limit=function(e){var t=this.length();return t>e&&this.mult(e/t),this},t.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.normalize=function(){var e=1/this.length();return this.mult(e)},t.clone=function(){return new e(this.x,this.y)},e.degreeToVector=function(t){var n=l.b.toRadians(t);return new e(Math.cos(n),Math.sin(n))},e.random=function(t){var n=t||.01;return e.degreeToVector(l.b.random(0,360,n))},e}();function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){};u(d,\"rx\",[]),u(d,\"ry\",[]),u(d,\"MAX_VERTICES\",256),u(d,\"MAX_VERTICES_MASK\",255),u(d,\"get\",(function(e,t){return new c(d._getVal(\"x\",e),d._getVal(\"y\",t))})),u(d,\"_init\",(function(){for(var e=0;e<d.MAX_VERTICES;++e)e===d.MAX_VERTICES-1&&(d.rx.push(d.rx[0]),d.ry.push(d.ry[0])),d.rx.push(Math.random()-.5),d.ry.push(Math.random()-.5)})),u(d,\"_lerp\",(function(e,t,n){return e*(1-n)+t*n})),u(d,\"_getVal\",(function(e,t){0==d.rx.length&&d._init();var n=\"x\"===e?d.rx:d.ry,r=(t%=d.MAX_VERTICES)-~~t,o=r*r*(3-2*r),i=~~t&d.MAX_VERTICES_MASK,a=i+1&d.MAX_VERTICES_MASK;return d._lerp(n[i],n[a],o)}));var f=d},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return i}));var r={debug:!1,imagePaths:[],loadedImageNames:[],emitterDataFiles:[],emitterDataPath:\"js\",imagePath:\"images\",adPath:\"\",adWidth:\"\",adHeight:\"\",fps:60},o=function(e,t){e in r?r[e]=t:console.error(\"Can't set an undefined key in setting: \"+e)},i=function(e){return r[e]}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(18),o=\"undefined\"!=typeof URLSearchParams?URLSearchParams:r.a,i=FormData;const a=(()=>{let e;return(\"undefined\"==typeof navigator||\"ReactNative\"!==(e=navigator.product)&&\"NativeScript\"!==e&&\"NS\"!==e)&&(\"undefined\"!=typeof window&&\"undefined\"!=typeof document)})();var s={isBrowser:!0,classes:{URLSearchParams:o,FormData:i,Blob:Blob},isStandardBrowserEnv:a,protocols:[\"http\",\"https\",\"file\",\"blob\",\"url\",\"data\"]}},function(e,t,n){\"use strict\";var r={create:function(e){return document.createElement(e)},addClass:function(e,t){e.classList.add(t)},removeClass:function(e,t){e.classList.remove(t)},setStyle:function(e,t){for(var n in t)e.style[n]=t[n]},setGroupStyle:function(e,t){var n;for(n=0;n<e.length;n++)this.setStyle(e[n],t)}};t.a=r},function(e,t,n){\"use strict\";var r=n(0);const o=r.a.toObjectSet([\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"]);const i=Symbol(\"internals\"),a=Symbol(\"defaults\");function s(e){return e&&String(e).trim().toLowerCase()}function l(e){return!1===e||null==e?e:r.a.isArray(e)?e.map(l):String(e)}function c(e,t,n,o){return r.a.isFunction(o)?o.call(this,t,n):r.a.isString(t)?r.a.isString(o)?-1!==t.indexOf(o):r.a.isRegExp(o)?o.test(t):void 0:void 0}function u(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}function d(e,t){e&&this.set(e),this[a]=t||null}Object.assign(d.prototype,{set:function(e,t,n){const o=this;function i(e,t,n){const r=s(t);if(!r)throw new Error(\"header name must be a non-empty string\");const i=u(o,r);(!i||!0===n||!1!==o[i]&&!1!==n)&&(o[i||t]=l(e))}return r.a.isPlainObject(e)?r.a.forEach(e,(e,n)=>{i(e,n,t)}):i(t,e,n),this},get:function(e,t){if(!(e=s(e)))return;const n=u(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(r.a.isFunction(t))return t.call(this,e,n);if(r.a.isRegExp(t))return t.exec(e);throw new TypeError(\"parser must be boolean|regexp|function\")}},has:function(e,t){if(e=s(e)){const n=u(this,e);return!(!n||t&&!c(0,this[n],n,t))}return!1},delete:function(e,t){const n=this;let o=!1;function i(e){if(e=s(e)){const r=u(n,e);!r||t&&!c(0,n[r],r,t)||(delete n[r],o=!0)}}return r.a.isArray(e)?e.forEach(i):i(e),o},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,n={};return r.a.forEach(this,(r,o)=>{const i=u(n,o);if(i)return t[i]=l(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\\d])(\\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();a!==o&&delete t[o],t[a]=l(r),n[a]=!0}),this},toJSON:function(e){const t=Object.create(null);return r.a.forEach(Object.assign({},this[a]||null,this),(n,o)=>{null!=n&&!1!==n&&(t[o]=e&&r.a.isArray(n)?n.join(\", \"):n)}),t}}),Object.assign(d,{from:function(e){return r.a.isString(e)?new this((e=>{const t={};let n,r,i;return e&&e.split(\"\\n\").forEach((function(e){i=e.indexOf(\":\"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&o[n]||(\"set-cookie\"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+\", \"+r:r)})),t})(e)):e instanceof this?e:new this(e)},accessor:function(e){const t=(this[i]=this[i]={accessors:{}}).accessors,n=this.prototype;function o(e){const o=s(e);t[o]||(!function(e,t){const n=r.a.toCamelCase(\" \"+t);[\"get\",\"set\",\"has\"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[o]=!0)}return r.a.isArray(e)?e.forEach(o):o(e),this}}),d.accessor([\"Content-Type\",\"Content-Length\",\"Accept\",\"Accept-Encoding\",\"User-Agent\"]),r.a.freezeMethods(d.prototype),r.a.freezeMethods(d);t.a=d},function(e,t,n){\"use strict\";(function(e){var r=n(0),o=n(2),i=n(28);function a(e){return r.a.isPlainObject(e)||r.a.isArray(e)}function s(e){return r.a.endsWith(e,\"[]\")?e.slice(0,-2):e}function l(e,t,n){return e?e.concat(t).map((function(e,t){return e=s(e),!n&&t?\"[\"+e+\"]\":e})).join(n?\".\":\"\"):t}const c=r.a.toFlatObject(r.a,{},null,(function(e){return/^is[A-Z]/.test(e)}));t.a=function(t,n,u){if(!r.a.isObject(t))throw new TypeError(\"target must be an object\");n=n||new(i.a||FormData);const d=(u=r.a.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!r.a.isUndefined(t[e])}))).metaTokens,f=u.visitor||y,h=u.dots,p=u.indexes,m=(u.Blob||\"undefined\"!=typeof Blob&&Blob)&&((g=n)&&r.a.isFunction(g.append)&&\"FormData\"===g[Symbol.toStringTag]&&g[Symbol.iterator]);var g;if(!r.a.isFunction(f))throw new TypeError(\"visitor must be a function\");function _(t){if(null===t)return\"\";if(r.a.isDate(t))return t.toISOString();if(!m&&r.a.isBlob(t))throw new o.a(\"Blob is not supported. Use a Buffer instead.\");return r.a.isArrayBuffer(t)||r.a.isTypedArray(t)?m&&\"function\"==typeof Blob?new Blob([t]):e.from(t):t}function y(e,t,o){let i=e;if(e&&!o&&\"object\"==typeof e)if(r.a.endsWith(t,\"{}\"))t=d?t:t.slice(0,-2),e=JSON.stringify(e);else if(r.a.isArray(e)&&function(e){return r.a.isArray(e)&&!e.some(a)}(e)||r.a.isFileList(e)||r.a.endsWith(t,\"[]\")&&(i=r.a.toArray(e)))return t=s(t),i.forEach((function(e,o){!r.a.isUndefined(e)&&null!==e&&n.append(!0===p?l([t],o,h):null===p?t:t+\"[]\",_(e))})),!1;return!!a(e)||(n.append(l(o,t,h),_(e)),!1)}const v=[],b=Object.assign(c,{defaultVisitor:y,convertValue:_,isVisitable:a});if(!r.a.isObject(t))throw new TypeError(\"data must be an object\");return function e(t,o){if(!r.a.isUndefined(t)){if(-1!==v.indexOf(t))throw Error(\"Circular reference detected in \"+o.join(\".\"));v.push(t),r.a.forEach(t,(function(t,i){!0===(!(r.a.isUndefined(t)||null===t)&&f.call(n,t,r.a.isString(i)?i.trim():i,o,b))&&e(t,o?o.concat(i):[i])})),v.pop()}}(t),n}}).call(this,n(40).Buffer)},function(e,t,n){\"use strict\";var r=n(2);function o(e,t,n){r.a.call(this,null==e?\"canceled\":e,r.a.ERR_CANCELED,t,n),this.name=\"CanceledError\"}n(0).a.inherits(o,r.a,{__CANCEL__:!0}),t.a=o},function(e,t,n){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"a\",(function(){return a}));var i=function(){function e(){}var t,n,o;return t=e,o=[{key:\"orientation\",get:function(){return window.innerWidth>window.innerHeight?\"landscape\":\"portrait\"}},{key:\"dimensions\",get:function(){return{width:window.innerWidth,height:window.innerHeight}}}],(n=null)&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();o(i,\"pixelRatio\",window.devicePixelRatio||\"unknown\"),o(i,\"init\",(function(){console.log(\"Device.init()\");var e=this;e.agentString=navigator.userAgent,e._getType(),e._getBrandAndOS(),e._getBrowser(),\"desktop\"!==e.type&&\"windows\"===e.os&&e.osVersion<=8&&\"ie\"===e.browser&&e.browserVersion<12&&(console.log(\"You appear to be on Windows 7 or 8 using Internet Explorer 11 or under. You also appear to be on a touchscreen device. We will assume you're actually on a desktop, since it's extremely unlikely you're on a tablet or mobile device using this specific operating system and browser.\"),e.type=\"desktop\");var t=Array(70).join(\"-\"),n=\"\\n\"+t;for(var r in e)e.hasOwnProperty(r)&&\"function\"!=typeof e[r]&&(n+=\"\\n\"+r+\": \"+e[r]);n+=\"\\n\"+t,console.log(n)})),o(i,\"_getType\",(function(){var e=this,t=/(android|mobile)/gi.exec(e.agentString),n=/(tablet|touch)/gi.exec(e.agentString),r=/(ipad)/gi.exec(e.agentString);e.type=\"desktop\",t&&(e.type=\"mobile\"),n&&(e.type=\"tablet\"),r&&(e.type=\"tablet\")})),o(i,\"_getBrandAndOS\",(function(){var e=this,t=e.agentString.match(/ip(hone|od|ad)|mac/gi);if(t){e.brand=\"apple\",e.product=t[0].toLowerCase();var n=/(OS\\s)(\\X\\s|)([\\d\\.\\_]+)/gi.exec(e.agentString);return e.os=\"\"==n[2]?\"ios\":\"osx\",void(e.osVersion=n[3].replace(/\\_/g,\".\"))}var r=/(android)\\/?\\s*([0-9\\.]+)/gi.exec(e.agentString);if(r)return e.brand=e.product=e.os=r[1].toLowerCase(),e._checkForSpecial(\"product\",[\"pixel 2\"],e.agentString.split(\"(\")[1].split(\")\")[0]),void(e.osVersion=r[2]);var o=/(windows\\snt\\s|windows\\sphone)\\/?\\s*([0-9\\.]+)/gi.exec(e.agentString);if(o){switch(e.brand=\"microsoft\",e.os=\"windows\",o[2]){case\"5.2\":e.osVersion=\"xp\";break;case\"6.0\":e.osVersion=\"vista\";break;case\"6.1\":e.osVersion=\"7\";break;case\"6.2\":e.osVersion=\"8\";break;case\"6.3\":e.osVersion=\"8.1\";break;case\"10.0\":e.osVersion=\"10\";break;default:e.osVersion=o[2]}return e.product=o[1].toLowerCase(),void(e.product.match(/\\snt/i)&&(e.product=\"pc\"))}e.agentString.match(/(blackberry|bb10|playbook)/i)&&(e.brand=e.product=e.os=\"blackberry\",e.osVersion=/(version)\\/?\\s*([0-9\\.]+)/gi.exec(e.agentString)[2])})),o(i,\"_getBrowser\",(function(){var e=this,t=/(edge(?=\\/))\\/?\\s*([0-9\\.]+)/i.exec(e.agentString);if(t||(t=e.agentString.match(/(fban|fbav|opera|chrome|crios|safari|firefox|msie|trident(?=\\/))\\/?\\s*([0-9\\.]+)/i)),!t||t.length<3){switch(console.log(\"we received no browser data, so we are setting it to the default of the device\"),e.os){case\"ios\":e.browser=\"safari\";break;case\"windows\":e.browser=\"trident\";break;default:e.browser=\"chrome\"}e.browserVersion=\"os-default\"}else switch(console.log(\"we received browser data\"),e.browser=t[1].toLowerCase(),e.browserVersion=t[2],e.browser){case\"trident\":(n=/\\brv:+(\\d+)/g.exec(e.agentString))&&(e.browserVersion=n[1]);case\"msie\":e.browser=\"ie\";break;case\"crios\":e.browser=\"chrome\";break;case\"safari\":(n=e.agentString.match(/\\sversion\\/([0-9\\.]+)\\s/i))&&(e.browserVersion=n[1]);break;case\"chrome\":var n;(n=e.agentString.match(/\\b(OPR)\\/([0-9\\.]+)/i))&&(e.browser=\"opera\",e.browserVersion=n[2])}})),o(i,\"_checkForSpecial\",(function(e,t,n){for(var r,o=0;o<t.length;o++)if(r=t[o].toLowerCase(),n.match(new RegExp(r,\"i\"))){this[e]=r;break}}));var a=i},function(e,t,n){\"use strict\";(function(e){var r=n(0),o=n(2),i=n(19),a=n(8),s=n(30),l=n(5),c=n(20),u=n(23);const d={\"Content-Type\":\"application/x-www-form-urlencoded\"};const f={transitional:i.a,adapter:function(){let t;return\"undefined\"!=typeof XMLHttpRequest?t=u.a.getAdapter(\"xhr\"):void 0!==e&&\"process\"===r.a.kindOf(e)&&(t=u.a.getAdapter(\"http\")),t}(),transformRequest:[function(e,t){const n=t.getContentType()||\"\",o=n.indexOf(\"application/json\")>-1,i=r.a.isObject(e);i&&r.a.isHTMLForm(e)&&(e=new FormData(e));if(r.a.isFormData(e))return o&&o?JSON.stringify(Object(c.a)(e)):e;if(r.a.isArrayBuffer(e)||r.a.isBuffer(e)||r.a.isStream(e)||r.a.isFile(e)||r.a.isBlob(e))return e;if(r.a.isArrayBufferView(e))return e.buffer;if(r.a.isURLSearchParams(e))return t.setContentType(\"application/x-www-form-urlencoded;charset=utf-8\",!1),e.toString();let l;if(i){if(n.indexOf(\"application/x-www-form-urlencoded\")>-1)return Object(s.a)(e,this.formSerializer).toString();if((l=r.a.isFileList(e))||n.indexOf(\"multipart/form-data\")>-1){const t=this.env&&this.env.FormData;return Object(a.a)(l?{\"files[]\":e}:e,t&&new t,this.formSerializer)}}return i||o?(t.setContentType(\"application/json\",!1),function(e,t,n){if(r.a.isString(e))try{return(t||JSON.parse)(e),r.a.trim(e)}catch(e){if(\"SyntaxError\"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||f.transitional,n=t&&t.forcedJSONParsing,i=\"json\"===this.responseType;if(e&&r.a.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(n){if(\"SyntaxError\"===e.name)throw o.a.from(e,o.a.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:l.a.classes.FormData,Blob:l.a.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:\"application/json, text/plain, */*\"}}};r.a.forEach([\"delete\",\"get\",\"head\"],(function(e){f.headers[e]={}})),r.a.forEach([\"post\",\"put\",\"patch\"],(function(e){f.headers[e]=r.a.merge(d)})),t.a=f}).call(this,n(44))},function(e,t,n){\"use strict\";n.r(t),function(e){n.d(t,\"addToLoad\",(function(){return p})),n.d(t,\"addLoader\",(function(){return m})),n.d(t,\"get\",(function(){return g})),n.d(t,\"available\",(function(){return _})),n.d(t,\"load\",(function(){return y})),n.d(t,\"addFbaImages\",(function(){return v})),n.d(t,\"addToDictionary\",(function(){return b}));var r,o=n(13),i=[],a=[],s=[],l=[],c={},u=!1,d=0,f=function(){},h=function(){};function p(e,t){var n=o.a.getFileName(e);_(n,!0)||(t&&1==t.forCanvas?a.push(e):i.push(e));return n}function m(e){s.push(e)}function g(e){if(c[e])return c[e];throw new Error(\"ImageManager : No image named '\"+e+\"' has been loaded\")}function _(e,t){var n=null!=c[e];return n?t&&console.log(\"ImageManager.available() --\\x3e\",!0,': Duplicate Image Id \"'+e+'\". One or more images loading in have the same name. Each Image needs a unique file name.'):t||console.log(\"ImageManager.available() --\\x3e\",!1,\": No image named '\"+e+\"' has been loaded\"),n}function y(t,n){if(h=n||e.failAd,u)l.push(t);else{r=new o.b({name:\"imageManagerLoader\",onComplete:function(e){u=!1,b(e.getAllContentRaw())},onFail:function(e){u=!1,h.call()}}),f=[].concat(t),l=[];var c=i.slice();i=[],r.add(new o.b(c,{name:\"dynamicImages-\"+d++,fileType:\"jpg\"}));var p=a.slice();a=[],r.add(new o.b(p,{name:\"dynamicCanvasImages-\"+d++,fileType:\"jpg\",crossOrigin:\"anonymous\"}));var m=s.slice();s=[];for(var g=0;g<m.length;g++)r.add(m[g]);u=!0,r.load()}}function v(e){e&&b(e.getAllContentRaw())}function b(e){for(var t=0;t<e.length;t++)if(e[t]instanceof Image||e[t]instanceof SVGElement){var n=e[t];_(e[t].id,!0)||(c[n.id]=n)}console.log(\"ImageManager:\",c);for(t=0;t<f.length;t++)f[t].call();l.length>0&&y(l)}}.call(this,n(14))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return L}));var r={};n.r(r),n.d(r,\"createXMLHttpRequest\",(function(){return u})),n.d(r,\"getFileName\",(function(){return d})),n.d(r,\"getFontName\",(function(){return f})),n.d(r,\"getFileType\",(function(){return h})),n.d(r,\"getFullUrl\",(function(){return p})),n.d(r,\"getUrlPrepend\",(function(){return m})),n.d(r,\"getParamsFromData\",(function(){return g}));var o=function(e){return new i(e)},i=function(){function e(e){this.superclass=e}return e.prototype.with=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return t(e)}),this.superclass)},e}();function a(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){return function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t=e.call.apply(e,[this].concat(r))||this;var i=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},s=a(t);return s.onComplete=i.onComplete||function(){},s.onFail=i.onFail||function(){},s.onProgress=i.onProgress||function(){},s.name=i.name||\"\",s.scope=i.scope||s,s.dataRaw,s.cacheBuster=i.cacheBuster||!1,s._failCalled=!1,t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n),r.prototype._handleFail=function(){var e=this;e._failCalled||(e._failCalled=!0,e.onFail.call(e.scope,e),console.log('Loader \"'+e.name+'\" Fail:',e.url))},r}(e)};function c(e){var t=e.search(/^\\/\\//)>-1;if(e.search(/^http/)>-1||t){var n=window.location.href.search(/^https/)>-1||window.adParams&&adParams.forceHttps,r=n?\"https://\":\"http://\";if(t&&(e=e.replace(/^\\/\\//,r)),e.search(/.*edgecastcdn/)>-1){var o=n?\"ne1.\"+e.match(/w(a|p)c/i)[0]+\".\":e.match(/w(a|p)c\\.[a-z0-9]*\\./i)[0];e=r+o+\"edgecastcdn\"+e.replace(/.*edgecastcdn/,\"\")}else if(e.search(/.*paramount\\.com/)>-1){e=r+(n?\"paramountdlds-a.akamaihd.net\":\"downloads.paramount.com\")+e.replace(/.*paramount\\.com/,\"\")}else e=e.search(/espn\\.go\\.com/)>-1||e.search(/secure\\.espncdn\\.com/)>-1?\"https://secure.espncdn.com\"+e.replace(/^.*\\.com/,\"\"):e.replace(/^https?\\:\\/\\//i,r)}return e}function u(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP\")}catch(e){}return console.warn(\"XMLHttpRequest not supported\"),null}function d(e){var t=e.lastIndexOf(\".\"),n=e.lastIndexOf(\"/\")+1;return n>t&&(t=void 0),e.substring(n,t)}function f(e){return e.substring(e.lastIndexOf(\"/\")+1,e.indexOf(\".\"))}function h(e){var t=(e=e||\"\").indexOf(\"?\");t>-1&&(e=e.substr(0,t));var n=e.match(/[^\\\\]*\\.(\\w+)$/),r=e.match(/image\\/(jpeg|jpg|png)/);return n?n[1]:r?r[1]:\"unknown\"}function p(e,t,n){var r=c(m(e)+_file);return n&&(r=n(r)),url}function m(e){return e?e.replace(/\\/?$/,\"/\"):\"\"}function g(e){if(\"string\"==typeof e)return e;var t=\"\";for(var n in e)console.log(\"      prop =\",n),t+=n+\"=\"+e[n]+\"&\";return t.substr(0,t.length-1)}function _(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){return function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t=e.call.apply(e,[this].concat(r))||this;var i=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},a=_(t);return a.url=c(arguments[0]||\"\"),i.platformGetUrl&&(a.platformGetUrl=i.platformGetUrl,a.url=i.platformGetUrl(a.url)),a.fileName=void 0===i.id?d(a.url):i.id,a.fileType=i.fileType||h(a.url),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n),r}(e)};function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){return function(e){var t,n;function r(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.call.apply(e,[this].concat(n))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var o=r.prototype;return o._setTicker=function(e){var t=this,n=document.createElement(\"div\");n.innerHTML=e.content,n.style.cssText=e.css||\"\",document.body.appendChild(n);var r=null!=e.width?e.width:n.offsetWidth;n.style.fontFamily=e.font||\"\";var o=setTimeout((function(){clearInterval(i),t._handleFail()}),5e3),i=setInterval((function(){n.offsetWidth!=r&&(clearTimeout(o),clearInterval(i),t._handleTickerComplete(n))}),10)},o._removeTickerNode=function(e){e.parentNode.removeChild(e)},r}(e)};function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t=e.call.apply(e,[this].concat(r))||this;var i=arguments&&arguments.length>1?arguments[1]:arguments[0]||{};return t.renderOnly=!!i.renderOnly,t.crossOrigin=i.crossOrigin,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,E(t,n);var o=r.prototype;return o.load=function(){var e=this;if(e.renderOnly)e._setTicker({content:e.url,width:0});else{var t=new Image;t.id=e.fileName,t.crossOrigin=e.crossOrigin,t.onload=e._handleComplete.bind(e),t.onerror=e._handleFail,t.src=e.url}},o._handleComplete=function(e){var t=this;t.dataRaw=e.target,t.onComplete.call(t.scope,t)},r}(o((function(){})).with(l,v,w));function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){var t,n;function r(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.call.apply(e,[this].concat(n))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,C(t,n);var o=r.prototype;return o.load=function(){var e,t=this;(e=\"css\"==t.fileType?t._createCssLink():\"html\"==t.fileType?t._createHtmlLink():t._createScript()).charset=\"utf-8\",e.onload=t._handleComplete.bind(t),e.onerror=t._handleFail,\"css\"==t.fileType||\"html\"==t.fileType?e.href=this.url:e.src=t.url,document.getElementsByTagName(\"head\")[0].appendChild(e)},o._createCssLink=function(){var e=document.createElement(\"link\");return e.rel=\"stylesheet\",e.type=\"text/css\",e},o._createHtmlLink=function(){var e=document.createElement(\"link\");return e.rel=\"import\",e},o._createScript=function(){var e=document.createElement(\"script\");return e.type=\"text/javascript\",e},o._handleComplete=function(e){var t=this;t.dataRaw=e.target,t.onComplete.call(t.scope,t)},r}(o((function(){})).with(l,v));function S(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t=e.call.apply(e,[this].concat(r))||this;var i=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},a=S(t);return a.method=(i.method||\"get\").toLowerCase(),a.query=i.query||null,a.responseType=i.responseType||null,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,O(t,n);var o=r.prototype;return o.load=function(){var e=this,t=null,n=\"post\"===e.method;e.req=u(),null!=e.responseType&&(e.req.responseType=e.responseType);var r=e.url;switch(e.query&&(t=g(e.query),encodeURIComponent(t),n||(r+=\"?\"+t,t=null)),e.cacheBuster&&(r+=e.query&&!n?\"&\":\"?\",r+=\"cb=\"+(new Date).getTime()),e.req.onreadystatechange=e._handleStateChange.bind(e),e.req.open(e.method,r,!0),e.fileType){case\"xml\":e.req.overrideMimeType&&e.req.overrideMimeType(\"text/xml\");break;case\"json\":e.req.overrideMimeType&&e.req.overrideMimeType(\"application/json\");break;case\"fba\":case\"bin\":case\"binary\":e.responseType=e.req.responseType=\"arraybuffer\"}\"post\"===e.method&&e.req.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\"),e.req.send(t)},o._handleStateChange=function(e){var t=this;switch(t.req.readyState){case 3:200==this.req.status&&(t.dataRaw=t.responseType?t.req.response:t.req.responseText,t._handleProgress(t));break;case 4:200==t.req.status?(t.dataRaw=t.responseType?t.req.response:t.req.responseText,t._handleComplete(t)):t._handleFail({target:e})}},o._handleProgress=function(){var e=this;e.onProgress.call(e.scope,e)},o._handleComplete=function(){var e=this;e.onComplete.call(e.scope,e)},r}(o((function(){})).with(l,v));function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){var t,n;function r(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.call.apply(e,[this].concat(n))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,P(t,n);var o=r.prototype;return o.load=function(){var e=this;e.fileName=e.fileName.split(\".\")[0];var t=\"truetype\";e.fileType.match(/woff/)&&(t=e.fileType);var n=\"@font-face { font-family: '\"+e.fileName+\"'; src: url(\"+e.url+\") format('\"+t+\"'); }\",r=document.getElementById(\"RED_fontStyleSheet\");if(r)r.innerHTML+=n;else{var o=document.createElement(\"style\");o.type=\"text/css\",o.media=\"screen\",o.id=\"RED_fontStyleSheet\",o.appendChild(document.createTextNode(n)),document.getElementsByTagName(\"head\")[0].appendChild(o)}e._setTicker({content:\" !\\\"\\\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~\",css:\"position:absolute; top:-1000px; font-size:100px; font-family:san-serif; font-variant:normal; font-style:normal; font-weight:normal; letter-spacing:0; white-space:nowrap;\",font:e.fileName})},o._handleTickerComplete=function(e){var t=this;setTimeout((function(){t._removeTickerNode(e)}),300),t._handleComplete()},o._handleComplete=function(e){var t=this;t.dataRaw=t.fileName,t.onComplete.call(t.scope,t)},r}(o((function(){})).with(l,v,w));function k(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t=e.call.apply(e,[this].concat(r))||this;var i=arguments&&arguments.length>1?arguments[1]:arguments[0]||{},a=k(t);return a._queue={},a._total=0,a._active=!1,a._startedCount=0,a.prepend=i.prepend||\"\",a.platformGetUrl=i.platformGetUrl,a.fileType=i.fileType||null,a.content=[],a.crossOrigin=i.crossOrigin||void 0,a.add(arguments[0]),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,D(t,n);var o=r.prototype;return o.add=function(e){var t=this;if(\"string\"==typeof e)t._addSingleLoad(e);else if(e instanceof Array)for(var n=0;n<e.length;n++)t._addSingleLoad(e[n]);else e instanceof r&&(e.content&&e.content[0]&&\"fba\"==e.content[0].fileType?t._addFbaSubLoads(e.content[0]):t._addSubLoad(e))},o.load=function(){var e=this;if(e._active=!0,e._total<=0)console.log('Loader \"'+e.name+'\" has NO assets to be loaded.');else{var t=!1,n=\"\";for(var o in e._queue)if(!(e._queue[o]instanceof r)){t||(t=!0,n+='Loader \"'+e.name+'\" requesting:');var i=e._queue[o].fileName,a=e._queue[o].fileType,s=i.indexOf(\".\"+a)>-1?i:i+\".\"+a;n+=\"\\n\\t -> \"+(e._queue[o].prepend||\"\")+s}t&&console.log(n)}e._startSingleLoad(0)},o.getAllContent=function(){var e=[];return function t(n){for(var o=0;o<n.length;o++)n[o]instanceof r?t(n[o].content):e.push(n[o])}(this.content),e.length<1&&console.log(\"No Content found\"),e},o.getAllContentRaw=function(){for(var e=this.getAllContent(),t=0;t<e.length;t++)e[t]=e[t].dataRaw;return e},o.getLoader=function(e){var t=null;return function n(o){for(var i=0;i<o.length;i++)o[i]instanceof r&&(!o[i]||o[i].name!==e&&o[i]!==e?n(o[i].content):t=o[i])}(this.content),t||console.log(\"No Loader found of that name\"),t},o._addSingleLoad=function(e,t){var n,r=this,o=t?t[1]:r.fileType||h(e);switch(o){case\"jpg\":case\"jpeg\":case\"gif\":case\"png\":case\"svg\":n=x;break;case\"ttf\":case\"woff\":n=R;break;case\"json\":case\"fba\":case\"bin\":case\"binary\":case\"svg+xml\":n=T;break;default:n=A}var i=new n(t?e:r.prepend+e,{scope:r,platformGetUrl:r.platformGetUrl,onComplete:r._handleSingleLoadComplete,onFail:r._handleFail,fileType:o,cacheBuster:r.cacheBuster,crossOrigin:r.crossOrigin});t&&(i.fileName=t[0]),i.queueIndex=r._total,r._queue[r._total]=i,r._total++},o._addSubLoad=function(e){var t=this;e.onComplete=t._handleSingleLoadComplete.bind(t),e.onProgress=t._handleProgress.bind(t),e.onFail=t._handleFail,e.queueIndex=t._total,t._queue[t._total]=e,t._total++},o._addFbaSubLoads=function(e){var t=new Uint8Array(4),n=new Uint32Array(t.buffer),r=44,o=new Uint8Array(e.dataRaw,r,1)[0];r+=5;for(var i=0;i<o;i++){for(var a=new Uint8Array(e.dataRaw,r,4),s=4,l=0;l<4;l++)t[--s]=a[l];var c=n[0];r+=7;var u=String.fromCharCode.apply(String,new Uint8Array(e.dataRaw,r++,1)),d=new Uint8Array(e.dataRaw,r+3,1)[0]||0,f=new Uint8Array(e.dataRaw,r+4,d),h=String.fromCharCode.apply(String,f);d+=4;var p=new Uint8Array(e.dataRaw,r+d,c-d);r+=c+4;var m=h.split(\".\"),g=void 0;g=\"f\"===u?\"application/\"+(\"ttf\"===m[1]?\"x-font-ttf\":\"font-\"+m[1]):\"image/\"+(\"svg\"==m[1]?\"svg+xml\":m[1]);var _=new Blob([p],{type:g}),y=URL.createObjectURL(_);this._addSingleLoad(y,m)}},o._startSingleLoad=function(e){var t=this,n=t._queue[e];0==t._total?t._handleComplete():e<t._total&&(n instanceof r||e<t._total-1&&t._startLoadTimeOut(++e),n.load())},o._startLoadTimeOut=function(e){var t=this;setTimeout((function(){t._startSingleLoad(e)}),10)},o._handleSingleLoadComplete=function(e){var t=this;t.content[e.queueIndex]=e,delete t._queue[e.queueIndex],t._handleProgress(),null==e.url&&e.queueIndex<t._total-1&&t._startLoadTimeOut(e.queueIndex+1)},o._handleProgress=function(){for(var e=this,t=e.content.length,n=0,r=0;r<t;r++)e.content[r]&&n++;var o=n,i=0;n<e._total&&e._queue[n]&&(i=e._queue[n].progress/e._total||0),e.progress=o/e._total+i,e.rawProgress=n/e._total+i,e.onProgress.call(e.scope,e),n>=e._total&&e._handleComplete()},o._handleComplete=function(){var e=this;e.onComplete.call(e.scope,e)},r}(o((function(){})).with(l))},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";var r=n(10),o=n(3);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){};i(a,\"debug_level1\",!1),i(a,\"debug_level2\",!1),i(a,\"filter\",void 0),i(a,\"debug_element\",void 0),i(a,\"debug_css_list\",void 0),i(a,\"init\",(function(){console.log(\"CssManager.init()\"),this.generateBrowserKeyDictionary()})),i(a,\"setDebugLevel\",(function(e){var t=this;switch(parseInt(e)){case 1:t.debug_level1=!0,t.debug_level2=!1;break;case 2:t.debug_level1=!0,t.debug_level2=!0;break;default:t.debug_level1=!1,t.debug_level2=!1}})),i(a,\"setDebugFilter\",(function(e){console.log(\"CssManager.setDebugFilter(),\",e),this.filter=e,this.debug_level1=!0})),i(a,\"ifDebug\",(function(e){var t=this;return t.filter?!(!t.passDebugFilter()||!t[e])||void 0:t[e]})),i(a,\"passDebugFilter\",(function(){var e=this;if(e.debug_element&&e.debug_element.id.indexOf(e.filter)>-1)return!0;if(e.debug_css_list)for(var t in e.debug_css_list){if(t.indexOf(e.filter)>-1)return!0;if(String(e.debug_css_list[t]).indexOf(e.filter)>-1)return!0}return!1})),i(a,\"generateBrowserKeyDictionary\",(function(){var e=this;console.log(\"CssManager.generateBrowserKeyDictionary()\"),e.deviceKeyDict={};var t=document.createElement(\"div\").style;for(var n in t){var o=e.getPrefix(n),i=e.standardizeKey(n);switch(r.a.browser){case\"safari\":\"webkit\"==o?e.deviceKeyDict[i]=e.prependPrefix(\"webkit\",i):e.prependPrefix(\"webkit\",i)in t||(e.deviceKeyDict[i]=i);break;case\"firefox\":var a=e.prependPrefix(\"Moz\",i),s=e.prependPrefix(\"Webkit\",i);i in t?e.deviceKeyDict[i]=i:\"moz\"==o?e.camelateKey(\"webkit-\"+i)in t&&(e.deviceKeyDict[i]=a):\"webkit\"==o&&(a in t||(e.deviceKeyDict[i]=s));break;case\"chrome\":case\"ie\":default:i in t?e.deviceKeyDict[i]=i:o&&(e.deviceKeyDict[i]=e.prependPrefix(o,i))}}console.log(\" KEY DICTIONARY:\",e.deviceKeyDict)})),i(a,\"apply\",(function(e,t){var n=this;n.debug_element=e,n.debug_css_list=t,n.ifDebug(\"debug_level1\")&&console.log(\"  CssManager.apply()\",e.id);var r={};for(var o in t)o.match(/^transform\\(/)?r[o]=t[o]:(n.ifDebug(\"debug_level1\")&&console.log(\"   \"+o+\": \"+t[o]+\";\"),e.style[n.getDeviceKey(o)]=t[o]);n.applyTransforms(e,r),n.ifDebug(\"debug_level1\")&&console.log(\"\\n\\n\"),n.debug_element=null,n.debug_css_list=null})),i(a,\"conformCssObject\",(function(e,t){var n=this;n.debug_element=t,n.ifDebug(\"debug_level1\")&&console.log(\"CssManager.conformCssObject()\",e);var r={};if(e)for(var o in e){n.ifDebug(\"debug_level2\")&&console.log(\"  PARSE( key: \"+o+\", value: \"+e[o]+\" )\");var i=n.conformKeyValue(o,e[o]);for(var a in i)n.ifDebug(\"debug_level2\")&&console.log(\"    CONFORMED DECLARATION:\",i[a]),r[i[a][0]]=i[a][1]}return n.debug_element=null,r})),i(a,\"conformCssString\",(function(e,t){var n=this;n.debug_element=t,n.ifDebug(\"debug_level1\")&&console.log(\" CssManager.conformCssString()\");var r={};if(e){var o=e.split(/\\s*;\\s*/);for(var i in o)if(o[i]){var a=o[i].split(/:(.+)?/);n.ifDebug(\"debug_level2\")&&console.log(\"  PARSE( key: \"+a[0]+\", value: \"+a[1]+\" )\");var s=n.conformKeyValue(a[0],a[1]);for(var l in s)n.ifDebug(\"debug_level2\")&&console.log(\"    CONFORMED DECLARATION:\",s[l]),r[s[l][0]]=s[l][1]}}return n.debug_element=null,r})),i(a,\"conformCssKeyValue\",(function(e,t){this.ifDebug(\"debug_level1\")&&console.log(\" CssManager.conformCssKeyValue()\");var n={};return n[e]=t,this.conformCssObject(n)})),i(a,\"applyTransforms\",(function(e,t){var n=this;n.ifDebug(\"debug_level1\")&&console.log(\"    - CssManager.applyTransforms(), \",t);var r=new o.a,i=e.style[n.getDeviceKey(\"transform\")].match(/matrix[^\\)]+\\)/);if(i&&(r.setFromCss(i[0]),n.ifDebug(\"debug_level2\")&&console.log(\"       existing matrix:\",r.data)),\"transforms\"in e)var a=e.transforms;else a={tx:0,ty:0,rz:0,sx:1,sy:1};var s={};for(var l in t){s[l.match(/\\(\\s([^\\s]+)/)[1]]=t[l]}if(null!=s.tx&&(r.data[2]=0),null!=s.ty&&(r.data[5]=0),null!=s.rz){var c=-a.rz;r.rotate(c*(Math.PI/180)),r.rotate(s.rz*(Math.PI/180)),a.rz=s.rz}if(null!=s.sx){c=1/a.sx;r.scale(c,1),r.scale(s.sx,1),a.sx=s.sx}if(null!=s.sy){c=1/a.sy;r.scale(1,c),r.scale(1,s.sy),a.sy=s.sy}null!=s.tx&&(r.translate(s.tx,0),a.tx=s.tx),null!=s.ty&&(r.translate(0,s.ty),a.ty=s.ty),e.transforms=a,n.ifDebug(\"debug_level2\")&&console.log(\"       updated matrix:\",r.data),e.style[n.getDeviceKey(\"transform\")]=r.getCss()})),i(a,\"conformKeyValue\",(function(e,t){e=String(e).trim(),t=String(t).trim();var n=this.standardizeKey(e);return this.conformValue(n,t)})),i(a,\"hasPrefix\",(function(e){return e.search(this.matchPrefixRegex())>-1})),i(a,\"getPrefix\",(function(e){var t=e.match(this.matchPrefixRegex());return t?t[1].replace(/-/g,\"\").toLowerCase():null})),i(a,\"stripPrefix\",(function(e){var t=e.replace(this.matchPrefixRegex(),\"\");return t.charAt(0).toLowerCase()+t.slice(1)})),i(a,\"getDeviceKey\",(function(e){return e in this.deviceKeyDict?this.deviceKeyDict[e]:e})),i(a,\"prependPrefix\",(function(e,t){return e+t.replace(/^(.)/,(function(e){return e.charAt(0).toUpperCase()}))})),i(a,\"standardizeKey\",(function(e){var t=this;return e=(e=t.stripPrefix(e))in t.keyFormatExceptions()?t.keyFormatExceptions()[e]:t.camelateKey(e),t.ifDebug(\"debug_level2\")&&console.log('    - result: \"'+e+'\"'),e})),i(a,\"camelateKey\",(function(e){return e=e.replace(/-(.)/g,(function(e){return e.charAt(1).toUpperCase()}))})),i(a,\"keyFormatExceptions\",(function(){return{x:\"transform( tx )\",translateX:\"transform( tx )\",y:\"transform( ty )\",translateY:\"transform( ty )\",rotate:\"transform( rz )\",rotation:\"transform( rz )\",scaleX:\"transform( sx )\",scaleY:\"transform( sy )\",scale:\"transform( sx ),transform( sy )\"}})),i(a,\"conformValue\",(function(e,t){var n,r=this,o=[],i=t.match(/\\s/),a=t.match(r.matchNumberRegex());if(!i&&a){r.ifDebug(\"debug_level2\")&&console.log(\"   conform value as number\"),n=Number(a[0]);var s=t.match(/[^0-9\\.]+$/);if(s)n+=s[0];else switch(e){case\"top\":case\"right\":case\"bottom\":case\"left\":case\"width\":case\"height\":case\"fontSize\":case\"lineHeight\":case\"padding\":case\"margin\":case\"marginRight\":case\"marginLeft\":case\"marginTop\":case\"marginBottom\":case\"borderRadius\":case\"borderWidth\":case\"letterSpacing\":n+=\"px\"}}else if(\"backgroundImage\"==e)r.ifDebug(\"debug_level2\")&&console.log(\"   conform value as background image\"),n='url( \"'+(t=t.replace(/^url\\(\\s*['\"]*/,\"\").replace(/['\"]*\\s*\\)$/,\"\"))+'\" )';else if(\"transform\"==e){r.ifDebug(\"debug_level2\")&&console.log('   convert \"transform\" functions to individual transforms');for(var l=/([a-z0-9]+)\\(([^\\)]+)\\)/gi;params=l.exec(t);){var c=params[2].replace(/\\s/g,\"\").split(\",\").map((function(e,t,n){return Number(e.match(r.matchNumberRegex())[0])}));switch(params[1]){case\"translate\":o.push([\"transform( tx )\",c[0]]),o.push([\"transform( ty )\",c[1]]);break;case\"translateX\":o.push([\"transform( tx )\",c[0]]);break;case\"translateY\":o.push([\"transform( ty )\",c[0]]);break;case\"rotate\":o.push([\"transform( rz )\",c[0]]);break;case\"scale\":o.push([\"transform( sx )\",c[0]]),o.push([\"transform( sy )\",c[1]]);break;case\"scaleX\":o.push([\"transform( sx )\",c[0]]);break;case\"scaleY\":o.push([\"transform( sy )\",c[0]])}}}else r.ifDebug(\"debug_level2\")&&console.log(\"   conform value as string\"),n=t;if(null!=n){r.ifDebug(\"debug_level2\")&&console.log('    - result: \"'+n+'\"');for(var u=e.split(/\\,/),d=0;d<u.length;d++)o.push([u[d],n])}return o})),i(a,\"matchNumberRegex\",(function(){return/^[+-]?[0-9]*\\.?[0-9]+/})),i(a,\"matchPrefixRegex\",(function(){return/^-*(moz-*|webkit-*|ms-*|o-)/i})),t.a=a},function(e,t,n){\"use strict\";function r(e,t){return function(){return e.apply(t,arguments)}}n.d(t,\"a\",(function(){return r}))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(0),o=n(18);function i(e){return encodeURIComponent(e).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}function a(e,t,n){if(!t)return e;const a=n&&n.encode||i,s=n&&n.serialize;let l;if(l=s?s(t,n):r.a.isURLSearchParams(t)?t.toString():new o.a(t,n).toString(a),l){const t=e.indexOf(\"#\");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+l}return e}},function(e,t,n){\"use strict\";var r=n(8);function o(e){const t={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\",\"%00\":\"\\0\"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function i(e,t){this._pairs=[],e&&Object(r.a)(e,this,t)}const a=i.prototype;a.append=function(e,t){this._pairs.push([e,t])},a.toString=function(e){const t=e?function(t){return e.call(this,t,o)}:o;return this._pairs.map((function(e){return t(e[0])+\"=\"+t(e[1])}),\"\").join(\"&\")},t.a=i},function(e,t,n){\"use strict\";t.a={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(e,t,n){\"use strict\";var r=n(0);t.a=function(e){function t(e,n,o,i){let a=e[i++];const s=Number.isFinite(+a),l=i>=e.length;if(a=!a&&r.a.isArray(o)?o.length:a,l)return r.a.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!s;o[a]&&r.a.isObject(o[a])||(o[a]=[]);return t(e,n,o[a],i)&&r.a.isArray(o[a])&&(o[a]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(o[a])),!s}if(r.a.isFormData(e)&&r.a.isFunction(e.entries)){const n={};return r.a.forEachEntry(e,(e,o)=>{t(function(e){return r.a.matchAll(/\\w+|\\[(\\w*)]/g,e).map(e=>\"[]\"===e[0]?\"\":e[1]||e[0])}(e),o,n,0)}),n}return null}},function(e,t,n){\"use strict\";function r(e,t){return e&&!function(e){return/^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(e)}(t)?function(e,t){return t?e.replace(/\\/+$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e}(e,t):t}n.d(t,\"a\",(function(){return r}))},function(e,t,n){var r;\"undefined\"!=typeof window?r=window:\"undefined\"!=typeof self?r=self:(console.warn(\"Using browser-only version of superagent in non-browser environment\"),r=this);var o=n(34),i=n(35),a=n(24),s=n(36),l=n(38);function c(){}var u=t=e.exports=function(e,n){return\"function\"==typeof n?new t.Request(\"GET\",e).end(n):1==arguments.length?new t.Request(\"GET\",e):new t.Request(e,n)};t.Request=_,u.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&\"file:\"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject(\"Microsoft.XMLHTTP\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP\")}catch(e){}throw Error(\"Browser-only version of superagent could not find XHR\")};var d=\"\".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\\s*|\\s*$)/g,\"\")};function f(e){if(!a(e))return e;var t=[];for(var n in e)h(t,n,e[n]);return t.join(\"&\")}function h(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach((function(n){h(e,t,n)}));else if(a(n))for(var r in n)h(e,t+\"[\"+r+\"]\",n[r]);else e.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function p(e){for(var t,n,r={},o=e.split(\"&\"),i=0,a=o.length;i<a;++i)-1==(n=(t=o[i]).indexOf(\"=\"))?r[decodeURIComponent(t)]=\"\":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function m(e){return/[\\/+]json($|[^-\\w])/.test(e)}function g(e){this.req=e,this.xhr=this.req.xhr,this.text=\"HEAD\"!=this.req.method&&(\"\"===this.xhr.responseType||\"text\"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,o,i=e.split(/\\r?\\n/),a={},s=0,l=i.length;s<l;++s)-1!==(t=(n=i[s]).indexOf(\":\"))&&(r=n.slice(0,t).toLowerCase(),o=d(n.slice(t+1)),a[r]=o);return a}(this.xhr.getAllResponseHeaders()),this.header[\"content-type\"]=this.xhr.getResponseHeader(\"content-type\"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body=\"HEAD\"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function _(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on(\"end\",(function(){var e,t=null,r=null;try{r=new g(n)}catch(e){return(t=new Error(\"Parser is unable to parse the response\")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit(\"response\",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||\"Unsuccessful HTTP response\"))}catch(t){e=t}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}function y(e,t,n){var r=u(\"DELETE\",e);return\"function\"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}u.serializeObject=f,u.parseString=p,u.types={html:\"text/html\",json:\"application/json\",xml:\"text/xml\",urlencoded:\"application/x-www-form-urlencoded\",form:\"application/x-www-form-urlencoded\",\"form-data\":\"application/x-www-form-urlencoded\"},u.serialize={\"application/x-www-form-urlencoded\":f,\"application/json\":JSON.stringify},u.parse={\"application/x-www-form-urlencoded\":p,\"application/json\":JSON.parse},s(g.prototype),g.prototype._parseBody=function(e){var t=u.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&m(this.type)&&(t=u.parse[\"application/json\"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},g.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r=\"cannot \"+t+\" \"+n+\" (\"+this.status+\")\",o=new Error(r);return o.status=this.status,o.method=t,o.url=n,o},u.Response=g,o(_.prototype),i(_.prototype),_.prototype.type=function(e){return this.set(\"Content-Type\",u.types[e]||e),this},_.prototype.accept=function(e){return this.set(\"Accept\",u.types[e]||e),this},_.prototype.auth=function(e,t,n){1===arguments.length&&(t=\"\"),\"object\"==typeof t&&null!==t&&(n=t,t=\"\"),n||(n={type:\"function\"==typeof btoa?\"basic\":\"auto\"});var r=function(e){if(\"function\"==typeof btoa)return btoa(e);throw new Error(\"Cannot use basic auth, btoa is not a function\")};return this._auth(e,t,n,r)},_.prototype.query=function(e){return\"string\"!=typeof e&&(e=f(e)),e&&this._query.push(e),this},_.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error(\"superagent can't mix .send() and .attach()\");this._getFormData().append(e,t,n||t.name)}return this},_.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},_.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit(\"error\",e)),n(e,t)},_.prototype.crossDomainError=function(){var e=new Error(\"Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.\");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},_.prototype.buffer=_.prototype.ca=_.prototype.agent=function(){return console.warn(\"This is not supported in browser version of superagent\"),this},_.prototype.pipe=_.prototype.write=function(){throw Error(\"Streaming is not supported in browser version of superagent\")},_.prototype._isHost=function(e){return e&&\"object\"==typeof e&&!Array.isArray(e)&&\"[object Object]\"!==Object.prototype.toString.call(e)},_.prototype.end=function(e){return this._endCalled&&console.warn(\"Warning: .end() was called twice. This is not supported in superagent\"),this._endCalled=!0,this._callback=e||c,this._finalizeQueryString(),this._end()},_.prototype._end=function(){var e=this,t=this.xhr=u.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit(\"end\")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit(\"progress\",n)};if(this.hasListeners(\"progress\"))try{t.onprogress=r.bind(null,\"download\"),t.upload&&(t.upload.onprogress=r.bind(null,\"upload\"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&\"GET\"!=this.method&&\"HEAD\"!=this.method&&\"string\"!=typeof n&&!this._isHost(n)){var o=this._header[\"content-type\"],i=this._serializer||u.serialize[o?o.split(\";\")[0]:\"\"];!i&&m(o)&&(i=u.serialize[\"application/json\"]),i&&(n=i(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit(\"request\",this),t.send(void 0!==n?n:null),this},u.agent=function(){return new l},[\"GET\",\"POST\",\"OPTIONS\",\"PATCH\",\"PUT\",\"DELETE\"].forEach((function(e){l.prototype[e.toLowerCase()]=function(t,n){var r=new u.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}})),l.prototype.del=l.prototype.delete,u.get=function(e,t,n){var r=u(\"GET\",e);return\"function\"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},u.head=function(e,t,n){var r=u(\"HEAD\",e);return\"function\"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},u.options=function(e,t,n){var r=u(\"OPTIONS\",e);return\"function\"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},u.del=y,u.delete=y,u.patch=function(e,t,n){var r=u(\"PATCH\",e);return\"function\"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},u.post=function(e,t,n){var r=u(\"POST\",e);return\"function\"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},u.put=function(e,t,n){var r=u(\"PUT\",e);return\"function\"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){\"use strict\";var r=n(0),o=n(2);var i=n(5),a=i.a.isStandardBrowserEnv?{write:function(e,t,n,o,i,a){const s=[];s.push(e+\"=\"+encodeURIComponent(t)),r.a.isNumber(n)&&s.push(\"expires=\"+new Date(n).toGMTString()),r.a.isString(o)&&s.push(\"path=\"+o),r.a.isString(i)&&s.push(\"domain=\"+i),!0===a&&s.push(\"secure\"),document.cookie=s.join(\"; \")},read:function(e){const t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,\"\",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},s=n(17),l=n(21),c=i.a.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement(\"a\");let n;function o(n){let r=n;return e&&(t.setAttribute(\"href\",r),r=t.href),t.setAttribute(\"href\",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,\"\"):\"\",host:t.host,search:t.search?t.search.replace(/^\\?/,\"\"):\"\",hash:t.hash?t.hash.replace(/^#/,\"\"):\"\",hostname:t.hostname,port:t.port,pathname:\"/\"===t.pathname.charAt(0)?t.pathname:\"/\"+t.pathname}}return n=o(window.location.href),function(e){const t=r.a.isString(e)?o(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},u=n(19),d=n(9);var f=n(7);var h=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};function p(e,t){let n=0;const r=h(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,l=r(s);n=i;const c={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0};c[t?\"download\":\"upload\"]=!0,e(c)}}function m(e){return new Promise((function(t,n){let h=e.data;const m=f.a.from(e.headers).normalize(),g=e.responseType;let _;function y(){e.cancelToken&&e.cancelToken.unsubscribe(_),e.signal&&e.signal.removeEventListener(\"abort\",_)}r.a.isFormData(h)&&i.a.isStandardBrowserEnv&&m.setContentType(!1);let v=new XMLHttpRequest;if(e.auth){const t=e.auth.username||\"\",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):\"\";m.set(\"Authorization\",\"Basic \"+btoa(t+\":\"+n))}const b=Object(l.a)(e.baseURL,e.url);function w(){if(!v)return;const r=f.a.from(\"getAllResponseHeaders\"in v&&v.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new o.a(\"Request failed with status code \"+n.status,[o.a.ERR_BAD_REQUEST,o.a.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),y()}),(function(e){n(e),y()}),{data:g&&\"text\"!==g&&\"json\"!==g?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v}),v=null}if(v.open(e.method.toUpperCase(),Object(s.a)(b,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,\"onloadend\"in v?v.onloadend=w:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf(\"file:\"))&&setTimeout(w)},v.onabort=function(){v&&(n(new o.a(\"Request aborted\",o.a.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new o.a(\"Network Error\",o.a.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let t=e.timeout?\"timeout of \"+e.timeout+\"ms exceeded\":\"timeout exceeded\";const r=e.transitional||u.a;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new o.a(t,r.clarifyTimeoutError?o.a.ETIMEDOUT:o.a.ECONNABORTED,e,v)),v=null},i.a.isStandardBrowserEnv){const t=(e.withCredentials||c(b))&&e.xsrfCookieName&&a.read(e.xsrfCookieName);t&&m.set(e.xsrfHeaderName,t)}void 0===h&&m.setContentType(null),\"setRequestHeader\"in v&&r.a.forEach(m.toJSON(),(function(e,t){v.setRequestHeader(t,e)})),r.a.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),g&&\"json\"!==g&&(v.responseType=e.responseType),\"function\"==typeof e.onDownloadProgress&&v.addEventListener(\"progress\",p(e.onDownloadProgress,!0)),\"function\"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener(\"progress\",p(e.onUploadProgress)),(e.cancelToken||e.signal)&&(_=t=>{v&&(n(!t||t.type?new d.a(null,e,v):t),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(_),e.signal&&(e.signal.aborted?_():e.signal.addEventListener(\"abort\",_)));const E=function(e){const t=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(e);return t&&t[1]||\"\"}(b);E&&-1===i.a.protocols.indexOf(E)?n(new o.a(\"Unsupported protocol \"+E+\":\",o.a.ERR_BAD_REQUEST,e)):v.send(h||null)}))}const g={http:m,xhr:m};t.a={getAdapter:e=>{if(r.a.isString(e)){const t=g[e];if(!e)throw Error(r.a.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!r.a.isFunction(e))throw new TypeError(\"adapter is not a function\");return e},adapters:g}},function(e,t,n){\"use strict\";e.exports=function(e){return null!==e&&\"object\"==typeof e}},function(e,t,n){\"use strict\";(function(e){}).call(this,n(14))},function(e,t,n){\"use strict\";(function(e){n(10),n(15),n(12)}).call(this,n(14))},function(module,__webpack_exports__,__webpack_require__){\"use strict\";var superagent__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),superagent__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_0__),ad_particles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31),ad_geom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),ad_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_globalSetting__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_data_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(32),_utils_Dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Interface=function(){function Interface(){var _this2=this;_defineProperty(this,\"buildInterface\",(function(){_this2.createPS(),_this2.guiInterfaces=[],_this2.psControl=_this2.generateControl(_this2.data.emitterPhysics),_this2.genertateInterface(_this2.data.emitterPhysics,_this2.psControl),_this2.styleControl=_this2.generateControl(_this2.data.styleAnimation),_this2.genertateInterface(_this2.data.styleAnimation,_this2.styleControl),_this2.activeModels=[];var e=_this2.generateParticleModelData();_this2.modelControl=_this2.generateControl(e),_this2.modelGui=_this2.genertateInterface(e,_this2.modelControl),_this2.actionControl=_this2.generateControl(_this2.data.actions),_this2.genertateInterface(_this2.data.actions,_this2.actionControl),_this2.interfaceContainer=document.querySelectorAll(\".ac\")[0],_this2.blockGuide=document.querySelector(\"#block-guide\"),_this2.codeDisplay=document.querySelector(\"#code-display\"),_this2.codeDisplayText=document.querySelector(\"#code-display-text\"),_this2.codeClose=document.querySelector(\"#code-close\"),_this2.saveFile=document.querySelector(\"#save\"),_this2.velGuide=document.querySelector(\"#velocity-guide\"),_this2.velGuideCtx=_this2.velGuide.getContext(\"2d\"),_this2.forceGuide=document.querySelector(\"#force-guide\"),_this2.forceGuideCtx=_this2.forceGuide.getContext(\"2d\"),_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.setGroupStyle([_this2.velGuide,_this2.forceGuide],{left:_this2.adWidth/2-60+\"px\",top:_this2.adHeight/2-60+\"px\"}),_this2.saveFile.addEventListener(\"click\",_this2.writeCode,!1),_this2.codeClose.addEventListener(\"click\",(function(){_this2.codeDisplay.classList.remove(\"show\",\"show-message\")}),!1),_this2.createMoveBtn(),_this2.createHelpBtn()})),_defineProperty(this,\"createMoveBtn\",(function(){_this2.interfaceOffset=new ad_geom__WEBPACK_IMPORTED_MODULE_2__.d(0,0),_this2.moveBtn=document.createElement(\"div\"),_this2.moveBtn.id=\"move-btn\",_this2.interfaceContainer.appendChild(_this2.moveBtn),_this2.moveBtn.addEventListener(\"mousedown\",(function(e){_this2.dragging=!0,_this2.draggingStart=new ad_geom__WEBPACK_IMPORTED_MODULE_2__.d(e.clientX,e.clientY)})),document.body.addEventListener(\"mousemove\",(function(e){if(_this2.dragging){_this2.draggingOffset=new ad_geom__WEBPACK_IMPORTED_MODULE_2__.d(e.clientX,e.clientY).sub(_this2.draggingStart),_this2.interfaceOffset.add(_this2.draggingOffset);var t=_this2.interfaceOffset.y+\"px\",n=-1*_this2.interfaceOffset.x+\"px\";_this2.interfaceContainer.style.top=t,_this2.interfaceContainer.style.right=n,_this2.draggingStart=new ad_geom__WEBPACK_IMPORTED_MODULE_2__.d(e.clientX,e.clientY)}})),document.body.addEventListener(\"mouseup\",(function(e){_this2.dragging=!1}))})),_defineProperty(this,\"createHelpBtn\",(function(){var e=document.createElement(\"a\");e.id=\"help-btn\",e.href=\"https://confluence.ff0000.com/display/AT/PARTICLES\",e.target=\"_blank\",_this2.interfaceContainer.appendChild(e)})),_defineProperty(this,\"createPS\",(function(){_this2.canvasEl=document.querySelector(\"#canvas-el\"),_this2.canvasEl.style.width=_this2.adWidth+\"px\",_this2.canvasEl.style.height=_this2.adHeight+\"px\",_this2.canvasEl.width=_this2.adWidth,_this2.canvasEl.height=_this2.adHeight;var e={emitterData:window.selectedEmitterData,fps:_this2.fps};_this2.PS=new ad_particles__WEBPACK_IMPORTED_MODULE_1__.a,_this2.PS.init(_this2.canvasEl,e),_this2.PS.emit()})),_defineProperty(this,\"getPSProp\",(function(e,t){if(\"action\"===t)return _this2.PS[e]||null;var n=_this2.PS.get(e);return void 0===n?null:n})),_defineProperty(this,\"publishCode\",(function(){var e=_this2.PS.properties,t=\"export default \";t+=JSON.stringify(e,null,2),_this2.codeDisplayText.value=t,_this2.codeDisplay.classList.add(\"show\")})),_defineProperty(this,\"writeCode\",(function(){var e=\"export default \"+JSON.stringify(_this2.PS.properties,null,2),t=Object(_globalSetting__WEBPACK_IMPORTED_MODULE_4__.a)(\"adWidth\")+\"x\"+Object(_globalSetting__WEBPACK_IMPORTED_MODULE_4__.a)(\"adHeight\");superagent__WEBPACK_IMPORTED_MODULE_0___default.a.post(\"/@ff0000-ad-tech/cs-plugin-particle-simulator/api/\").send({action:\"writeData\",size:t,data:e,fileName:_this2.selectedEmitterDataName}).end((function(e,t){if(e)alert(\"Erro with API. Unable to save the fil\");else{var n=JSON.parse(t.text);document.querySelector(\"#saved-message\").innerHTML=n.stdout,_this2.codeDisplay.classList.add(\"show-message\")}}))})),_defineProperty(this,\"showDataSelector\",(function(e){void 0===e&&(e=[]);var t=document.querySelector(\"#data-options\");e.forEach((function(e,n){var r=document.createElement(\"li\");r.innerHTML=e.name,r.classList.add(\"btn\"),t.appendChild(r),r.addEventListener(\"click\",(function(){_this2.selectData(n)}))})),_this2.dataSelector.classList.add(\"show\")})),_defineProperty(this,\"selectData\",(function(e){var t=_this2.emitterDataFiles[e];_this2.selectedEmitterDataName=t.name,_this2.evalData(t.content),_this2.buildInterface(),_this2.dataSelector.classList.remove(\"show\")})),_defineProperty(this,\"evalData\",(function(data){try{eval(\"window.selectedEmitterData=\"+data)}catch(e){alert(e+\"\\nPlease check your data file\")}})),_defineProperty(this,\"addParticleModel\",(function(){var e=_this2,t=\"model\"+_this2.modelIndex,n={name:t,type:\"folder\",children:_this2.data.getDefaultNewParticleModelData(t)};_this2.activeModels.push(t),_this2.modelIndex++,n.children.forEach((function(t){\"object\"==typeof t.defaultVal&&(t.defaultVal=JSON.stringify(t.defaultVal,null,1)),e.modelControl[t.name]=t.defaultVal})),_this2.processData(_this2.modelControl,_this2.modelGui,n),_this2.updateEmitterModels()})),_defineProperty(this,\"deleteParticleModel\",(function(e){var t,n=document.querySelector(\"#\"+e);for(n.parentNode.removeChild(n),t=0;t<_this2.activeModels.length;t++)if(_this2.activeModels[t]===e){_this2.activeModels.splice(t,1);break}_this2.updateEmitterModels()})),_defineProperty(this,\"generateControl\",(function(e){var t,n={};for(t=0;t<e.length;t++){var r=e[t];if(\"folder\"===r.type){var o;for(o=0;o<r.children.length;o++){var i=r.children[o],a=_this2.syncWithCurrentData(i);n[i.name]=null===a?i.defaultVal:a,\"action\"===r.type&&(n[r.name]=n[r.name].bind(_this2.PS))}}else{a=_this2.syncWithCurrentData(r);n[r.name]=null===a?r.defaultVal:a,\"action\"===r.type&&(n[r.name]=n[r.name].bind(_this2.PS))}}return n})),_defineProperty(this,\"generateParticleModelData\",(function(){var e=_this2;_this2.modelIndex=0;var t,n=_this2.data.particleModel,r=_this2.getPSProp(\"particleModels\");for(t=0;t<r.length;t++){var o=\"model\"+_this2.modelIndex,i=r[t],a={name:o,type:\"folder\",children:_this2.data.getDefaultNewParticleModelData(o)};a.children.forEach((function(t){var n;i[t.modelKey]&&(t.defaultVal=i[t.modelKey]),\"object\"==typeof t.defaultVal&&(t.defaultVal=JSON.stringify(t.defaultVal,null,1)),t.name.indexOf(\"Delete\")>-1&&(t.defaultVal=(n=o,function(){e.deleteParticleModel(n)}))})),n.push(a),_this2.activeModels.push(o),_this2.modelIndex++}return n})),_defineProperty(this,\"genertateInterface\",(function(e,t){var n,r=new dat.GUI;for(n=0;n<e.length;n++){var o=e[n];this.processData(t,r,o)}return r})),_defineProperty(this,\"processData\",(function(e,t,n,r){var o;switch(void 0===r&&(r={}),n.type){case\"text\":case\"boolean\":case\"action\":\"text\"===n.type&&\"object\"==typeof n.defaultVal&&(n.defaultVal=JSON.stringify(n.defaultVal,null,1)),o=t.add(e,n.name),void 0!==n.min&&o.min(n.min),o.onFinishChange((function(e){window.Interface.setEmitterProperty(n,e,r),\"world\"===r.name&&_this2.hideGuide(!0)}));break;case\"color\":(o=t.addColor(e,n.name)).onChange((function(e){window.Interface.setEmitterProperty(n,e,r)}));break;case\"slider\":o=t.add(e,n.name,n.range[0],n.range[1]),void 0!==n.step&&o.step(n.step),o.onChange((function(e){window.Interface.setEmitterProperty(n,e,r)})),o.onFinishChange((function(e){switch(r.name){case\"world\":case\"origin\":_this2.hideGuide();break;case\"velocityAngle\":_this2.hideVelocityGuide();break;case\"globalForce\":_this2.hideForceGuide()}}));break;case\"dropdown\":(o=t.add(e,n.name,n.options)).onFinishChange((function(e){window.Interface.setEmitterProperty(n,e,r),\"origin\"===r.name&&_this2.hideGuide(!0)}));break;case\"folder\":var i,a=t.addFolder(n.name);for(i=0;i<n.children.length;i++)_this2.processData(e,a,n.children[i],n)}})),_defineProperty(this,\"setEmitterProperty\",(function(e,t,n){if(\"action\"!==e.type){n=n||{};var r,o=e.map||e.name,i=_this2.psControl;switch(n.name){case\"world\":(\"worldActive\"!==e.name||t)&&_this2.showGuide(i.left,i.top,i.right-i.left,i.bottom-i.top);break;case\"origin\":var a=i.originXRange/2,s=i.originYRange/2,l=i.originX-a,c=i.originY-s;_this2.showGuide(l,c,i.originX+a-l,i.originY+s-c,i.originShape);break;case\"velocityAngle\":var u=i.angleRange/2;_this2.showVelocityGuide(i.angleValue-u,i.angleValue+u);break;case\"globalForce\":_this2.showForceGuide(i.forceAngle)}if(\"string\"==typeof t)if(\"[\"===(r=t.replace(/\\s+/g,\"\"))[0]&&\"]\"===r[r.length-1]){var d,f=(r=(r=r.substr(1)).slice(0,r.length-1)).split(\",{\"),h=[];for(d=0;d<f.length;d++){var p=f[d];if(0!==d&&(p=\"{\"+p),0!==p.trim().length)try{h.push(JSON.parse(p))}catch(e){return void alert(\"This is not a valid input.\")}}t=h}0===(r=n.name||\"\").indexOf(\"model\")?_this2.updateEmitterModels():_this2.PS.set(o,t)}})),_defineProperty(this,\"syncWithCurrentData\",(function(e){var t=e.map||e.name,n=null;switch(e.name){case\"bgImage\":n=_this2.getPSProp(\"background.image\")||_this2.images[0]||\"\",_this2.PS.set(\"background.image\",n);break;default:n=_this2.getPSProp(t,e.type)}if(\"object\"==typeof n&&null!==n){var r,o=\"[\\n\";for(r=0;r<n.length;r++)o+=\" \",o+=JSON.stringify(n[r]),r<n.length-1&&(o+=\", \",o+=\"\\n\");n=o+=\"\\n]\"}return void 0===n&&(n=null),n})),_defineProperty(this,\"showGuide\",(function(e,t,n,r,o){var i={left:e+\"px\",top:t+\"px\",width:n+\"px\",height:r+\"px\"};_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.setStyle(_this2.blockGuide,i),_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.addClass(_this2.blockGuide,\"show\"),\"oval\"===o&&_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.addClass(_this2.blockGuide,\"oval\")})),this.adWidth=Object(_globalSetting__WEBPACK_IMPORTED_MODULE_4__.a)(\"adWidth\"),this.adHeight=Object(_globalSetting__WEBPACK_IMPORTED_MODULE_4__.a)(\"adHeight\"),this.fps=Object(_globalSetting__WEBPACK_IMPORTED_MODULE_4__.a)(\"fps\"),this.emitterDataFiles=Object(_globalSetting__WEBPACK_IMPORTED_MODULE_4__.a)(\"emitterDataFiles\"),this.images=Object(_globalSetting__WEBPACK_IMPORTED_MODULE_4__.a)(\"loadedImageNames\"),this.data=Object(_data_index__WEBPACK_IMPORTED_MODULE_5__.a)(this),this.emitterDataFiles.length>1?(this.dataSelector=document.querySelector(\"#data-selector\"),this.showDataSelector(this.emitterDataFiles)):(this.evalData(this.emitterDataFiles[0].content),this.selectedEmitterDataName=this.emitterDataFiles[0].name,this.buildInterface())}var _proto=Interface.prototype;return _proto.updateEmitterModels=function(){var e,t=[],n=this.modelControl;for(e=0;e<this.activeModels.length;e++){var r=this.activeModels[e],o={};o.type=n[r+\"Type\"],o.id=n[r+\"Id\"],o.width=n[r+\"Width\"],\"Image\"===o.type&&(o.image=n[r+\"ImageName\"]),\"Sprite\"===o.type&&(o.image=n[r+\"ImageName\"],o.spriteSetting=JSON.parse(n[r+\"SpriteSetting\"])),\"Rect\"===o.type&&(o.height=n[r+\"Height\"]),o.probability=n[r+\"Probability\"],o.properties=JSON.parse(n[r+\"Props\"]),t.push(o)}this.PS.set(\"particleModels\",t)},_proto.hideGuide=function(e){var t=this;setTimeout((function(){_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.removeClass(t.blockGuide,\"show\"),_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.removeClass(t.blockGuide,\"oval\")}),e?500:0)},_proto.showVelocityGuide=function(e,t){_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.addClass(this.velGuide,\"show\");var n=this.velGuideCtx,r=new ad_geom__WEBPACK_IMPORTED_MODULE_2__.d(60,60);ad_geom__WEBPACK_IMPORTED_MODULE_2__.d.degreeToVector(e),ad_geom__WEBPACK_IMPORTED_MODULE_2__.d.degreeToVector(t);n.clearRect(0,0,120,120),n.beginPath(),n.moveTo(r.x,r.y),n.arc(r.x,r.y,60,0,2*Math.PI),n.lineTo(r.x,r.y),n.fillStyle=\"rgba( 255, 255, 255, .4 )\",n.fill(),n.closePath(),n.beginPath(),n.moveTo(r.x,r.y),n.arc(r.x,r.y,58,ad_utils__WEBPACK_IMPORTED_MODULE_3__.b.toRadians(e),ad_utils__WEBPACK_IMPORTED_MODULE_3__.b.toRadians(t)),n.lineTo(r.x,r.y),n.strokeStyle=\"rgba( 0, 0, 0, .5 )\",n.fillStyle=\"rgba( 0, 200, 255, .4 )\",n.lineWidth=2,n.fill(),n.stroke(),n.closePath()},_proto.showForceGuide=function(e){_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.addClass(this.forceGuide,\"show\");var t=this.forceGuideCtx,n=new ad_geom__WEBPACK_IMPORTED_MODULE_2__.d(60,60),r=ad_geom__WEBPACK_IMPORTED_MODULE_2__.d.degreeToVector(e);r.mult(60),r.add(n),t.clearRect(0,0,120,120),t.beginPath(),t.arc(n.x,n.y,60,0,2*Math.PI),t.strokeStyle=\"rgba( 0, 0, 0, 0)\",t.fillStyle=\"rgba( 255, 255, 255, 0.3 )\",t.fill(),t.stroke(),t.closePath(),t.beginPath(),t.arc(n.x,n.y,5,0,2*Math.PI),t.moveTo(n.x,n.y),t.lineTo(r.x,r.y),t.strokeStyle=\"rgba( 0, 0, 0, 1 )\",t.fillStyle=\"rgba( 255, 255, 255, .4 )\",t.lineWidth=2,t.fill(),t.stroke(),t.closePath()},_proto.hideVelocityGuide=function(){_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.removeClass(this.velGuide,\"show\")},_proto.hideForceGuide=function(){_utils_Dom__WEBPACK_IMPORTED_MODULE_6__.a.removeClass(this.forceGuide,\"show\")},Interface}();__webpack_exports__.a=Interface},function(e,t,n){\"use strict\";var r=n(29),o=n.n(r);t.a=o.a},function(e,t){e.exports=\"object\"==typeof self?self.FormData:window.FormData},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(0),o=n(8),i=n(5);function a(e,t){return Object(o.a)(e,new i.a.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,o){return i.a.isNode&&r.a.isBuffer(e)?(this.append(t,e.toString(\"base64\")),!1):o.defaultVisitor.apply(this,arguments)}},t))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return oe}));var r={};n.r(r),n.d(r,\"get\",(function(){return c})),n.d(r,\"getElement\",(function(){return u})),n.d(r,\"removeChildren\",(function(){return d})),n.d(r,\"addiFrame\",(function(){return f})),n.d(r,\"addSvg\",(function(){return h})),n.d(r,\"applyToElements\",(function(){return p}));var o={};n.r(o),n.d(o,\"setCss\",(function(){return _})),n.d(o,\"getCss\",(function(){return y})),n.d(o,\"injectStylesheet\",(function(){return v})),n.d(o,\"addClass\",(function(){return b})),n.d(o,\"removeClass\",(function(){return w}));var i={};n.r(i),n.d(i,\"Event\",(function(){return C})),n.d(i,\"stop\",(function(){return A})),n.d(i,\"stopped\",(function(){return S})),n.d(i,\"startPoint\",(function(){return O})),n.d(i,\"endPoint\",(function(){return T})),n.d(i,\"OVER\",(function(){return P})),n.d(i,\"OUT\",(function(){return R})),n.d(i,\"MOVE\",(function(){return k})),n.d(i,\"PRESS\",(function(){return D})),n.d(i,\"RELEASE\",(function(){return L})),n.d(i,\"CLICK\",(function(){return M})),n.d(i,\"DRAG\",(function(){return I})),n.d(i,\"DRAG_START\",(function(){return F})),n.d(i,\"DRAG_STOP\",(function(){return B})),n.d(i,\"SWIPE\",(function(){return j}));var a=n(3),s=n(10);new function(){var e=this;e.isFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},e.enter=function(t){e.isFullScreen()||(t.requestFullscreen?(console.log(\" -> requestFullscreen\"),t.requestFullscreen()):t.msRequestFullscreen?(console.log(\" -> msRequestFullscreen\"),t.msRequestFullscreen()):t.mozRequestFullScreen?(console.log(\" -> mozRequestFullScreen\"),t.mozRequestFullScreen()):t.webkitRequestFullscreen&&(console.log(\" -> webkitRequestFullscreen\"),t.webkitRequestFullscreen()))},e.exit=function(){e.isFullScreen()&&(document.exitFullscreen?(console.log(\" -> exitFullscreen\"),document.exitFullscreen()):document.msExitFullscreen?(console.log(\" -> msExitFullscreen\"),document.msExitFullscreen()):document.mozCancelFullScreen?(console.log(\" -> mozCancelFullScreen\"),document.mozCancelFullScreen()):document.webkitExitFullscreen&&(console.log(\" -> webkitExitFullscreen\"),document.webkitExitFullscreen()))}};var l=n(1);function c(e,t){if(\"string\"!=typeof e)return e;switch(t=t||document,(e=e.trim())[0]){case\"#\":return t.getElementById(e.slice(1));case\".\":return t.getElementsByClassName(e.slice(1));case\"<\":return t.getElementsByTagName(e.slice(1,e.length-1));default:return t.getElementById(e)}}function u(e,t){return c(e,t)}function d(e){var t=c(e);for(console.log(\"removeChildren (\"+e+\")\");t.firstChild;)t.removeChild(t.firstChild)}function f(e){var t=document.createElement(\"iFrame\");return t.id=e.id,t.width=e.css.width,t.height=e.css.height,delete e.css.width,delete e.css.height,t.setAttribute(\"src\",e.source),t.setAttribute(\"frameborder\",\"0\"),t.setAttribute(\"scrolling\",\"no\"),t.setAttribute(\"allowfullscreen\",\"\"),applyContainerCss(t,e),e.target.appendChild(t),t}function h(e){var t=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");t.setAttribute(\"height\",e.height),t.setAttribute(\"width\",e.width);var n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");return n.setAttribute(\"d\",e.d),n.setAttribute(\"fill\",e.fill),null!=e.stroke&&n.setAttribute(\"stroke\",e.stroke),null!=e.strokeWidth&&n.setAttribute(\"stroke-width\",e.strokeWidth),t.appendChild(n),applyContainerCss(t,e),e.target.appendChild(t),t}function p(e){var t;if(void 0===e.elements.length)e.method.call(e.scope,e.elements,e.methodArg);else for(t=0;t<e.elements.length;t++){var n=e.elements[t];e.method.call(e.scope,n,e.methodArg)}}var m=n(15);n(26);var g=n(12);function _(e,t){e=c(e);var n={};if(arguments.length>2)for(var r=1;r<arguments.length;r+=2)n=m.a.conformCssKeyValue(arguments[r],arguments[r+1]);else n=\"string\"==typeof arguments[1]?m.a.conformCssString(arguments[1],e):m.a.conformCssObject(arguments[1],e);m.a.apply(e,n)}function y(e,t){var n;if(e=c(e),\"x\"===t||\"y\"===t){var r=e.style[m.a.getDeviceKey(\"transform\")],o=new a.a;if(r){var i=Object(a.e)(r);6!==i.length&&(o=new a.b),o.setFromArray(i)}n=\"x\"===t?o.getX():o.getY()}else{n=window.getComputedStyle(e,null).getPropertyValue(t).replace(/px/,\"\"),isNaN(n)||(n=parseInt(n,10))}return n}function v(e,t){if(!document.getElementById(e)){var n=document.createElement(\"style\");n.type=\"text/css\",n.id=e;var r=2===arguments.length?t:\"\";if(arguments.length>2)for(var o=0;o<arguments.length-1;o+=2){var i=arguments[o+1].replace(/\\,\\s+/g,\",\");r+=i,r+=\" { \"+(arguments[o+2]||\"\")+\" }\\n\"}n.innerHTML=r,document.getElementsByTagName(\"head\")[0].appendChild(n)}}function b(e,t){for(var n=c(e),r=0;r<arguments.length-1;r++)n.classList.add(arguments[r+1])}function w(e,t){c(e).classList.remove(t)}var E={},x=!1;var C=function(e,t,n,r,o,i,a,s,l,c,u){var d=new CustomEvent(e);return d.mouse={global:{x:t,y:n},local:{x:r,y:o}},d.element={x:i||0,y:a||0},d.distance={x:s||0,y:l||0},d.velocity={x:c||0,y:u||0},d.direction={x:c>0?\"right\":c<0?\"left\":null,y:u>0?\"down\":u<0?\"up\":null},d};var A=function(e){e&&(e.stopImmediatePropagation(),E[e.type]=!0)};var S=function(e){return null!=E[e]};function O(){x||(x=!0,E={})}function T(){x=!1}var P=\"mouseover\",R=\"mouseout\",k=\"mousemove\",D=\"onPress\",L=\"onRelease\",M=\"onSelect\",I=\"onDrag\",F=\"onDragStart\",B=\"onDragStop\",j=\"onSwipe\",N=function(){function e(e){var t=this;t.elem=e,t.hasActiveChildren=!0,t.debug=!1,t.eventList=[],t._isDragEnabled=!1,t._isDragging=!1,t._give=2,t._oX=0,t._oY=0,t._p1X=0,t._p1Y=0,t._p2X=0,t._p2Y=0,t._sX=0,t._sY=0,t._vX=0,t._vY=0,t._cursor=\"mouse\",t._start=\"down\",t._end=\"up\",t.init()}var t=e.prototype;return t.init=function(){var e=this;e.debug&&console.log(\"GestureBase.init()\"),e._handleTouchStart=e._handleTouchStart.bind(e),e._handleDown=e._handleDown.bind(e),e._handleDrag=e._handleDrag.bind(e),e._handleUp=e._handleUp.bind(e),e._elemAdd=e.elem.addEventListener.bind(e.elem),e._elemRemove=e.elem.removeEventListener.bind(e.elem),e._reset()},t.register=function(e,t){var n=this;n.debug&&console.log(\"GestureBase.register(\",e,\")\"),n.eventList.push(e),n._checkDragEnabled(),n._elemAdd(e,t)},t.unregister=function(e,t){var n=this;n.debug&&console.log(\"GestureBase.unregister(\",e,\")\");var r=n.eventList.indexOf(e);r>=0&&n.eventList.splice(r,1),n._checkDragEnabled(),n._elemRemove(e,t)},t._reset=function(){var e=this;e._cursor=\"mouse\",e._start=\"down\",e._end=\"up\",e.elem.addEventListener(\"touchstart\",e._handleTouchStart),\"ios\"!=s.a.os&&e.elem.addEventListener(\"mousedown\",e._handleDown)},t._checkDragEnabled=function(){var e=this.eventList.join(\"\").indexOf(\"onDrag\");this._isDragEnabled=e>-1},t._getEventScope=function(e){return e.changedTouches?e.changedTouches[0]:e},t._add=function(e,t){window.addEventListener(this._cursor+e,t)},t._remove=function(e,t){window.removeEventListener(this._cursor+e,t)},t._handleDown=function(e){var t=this;t.debug&&console.log(\"GestureBase._handleDown()\"),O(),t.elem.removeEventListener(\"touchstart\",t._handleTouchStart),\"ios\"!=s.a.os&&t.elem.removeEventListener(\"mousedown\",t._handleDown),t._isDragging=!1,t._add(t._end,t._handleUp),t._add(\"move\",t._handleDrag);var n=t._getEventScope(e),r=n.pageX,i=n.pageY,a=t.elem.getBoundingClientRect(),l=r-a.left,c=i-a.top,u=t.elem.x||o.getCss(t.elem,\"x\"),d=t.elem.y||o.getCss(t.elem,\"y\"),f=a.left-u,h=a.top-d;t._oX=f+l,t._oY=h+c;var p=r-t._oX,m=i-t._oY;t._sX=t._p1X=t._p2X=r,t._sY=t._p1Y=t._p2Y=i,function(e){if(S(e))return;var n=new C(e,r,i,l,c,p,m);t.debug&&console.log(\" -> dispatch\",e);t.elem.dispatchEvent(n)}(\"onPress\")},t._handleUp=function(e,t){var n=this;n.debug&&console.log(\"GestureBase._handleUp()\"),n._remove(n._end,n._handleUp),n._remove(\"move\",n._handleDrag);var r=n._getEventScope(e),o=r.pageX,i=r.pageY,a=n.elem.getBoundingClientRect(),s=o-a.left,l=i-a.top,c=o-n._oX,u=i-n._oY;!0!==t&&m(\"onRelease\");var d=a.top+window.pageYOffset,f=d+a.height,h=a.left+window.pageXOffset,p=h+a.width;function m(e){if(!S(e)){var t=new C(e,o,i,s,l,c,u,0,0,n._vX,n._vY);n.debug&&console.log(\" -> dispatch\",e),n.elem.dispatchEvent(t)}}n._isDragging?(n._isDragEnabled&&n._dragEndOrSwipe(\"onDragStop\"),console.log(\"  -> No CLICK Fired, was dragging\")):o>h&&o<p&&i>d&&i<f&&m(\"onSelect\"),n._isDragging&&n._dragEndOrSwipe(\"onSwipe\"),n._reset(),e.preventDefault(),T()},t._handleTouchStart=function(e){var t=this;t.debug&&console.log(\"GestureBase._handleTouchStart()\"),t._cursor=\"touch\",t._start=\"start\",t._end=\"end\",t._handleDown(e)},t._handleDrag=function(e){var t=this;t.debug&&console.log(\"GestureBase._handleDrag()\");var n=t._getEventScope(e),r=n.pageX,o=n.pageY,i=r-t._p1X,a=r-t._p2X;t._vX=(a-i)/2+i;var s=o-t._p1Y,l=o-t._p2Y;t._vY=(l-s)/2+s;var c=r-t._oX,u=o-t._oY,d=t.elem.getBoundingClientRect(),f=r-d.left,h=o-d.top;function p(e){if(!S(e)){var n=new C(e,r,o,f,h,c,u,t._p1X-t._sX,t._p1Y-t._sY,t._vX,t._vY);t.debug&&console.log(\" -> dispatch\",e),t.elem.dispatchEvent(n)}}t._isDragging?t._isDragEnabled&&p(\"onDrag\"):(Math.abs(t._sX-r)>t._give||Math.abs(t._sY-o)>t._give)&&(t._isDragging=!0,t._isDragEnabled&&p(\"onDragStart\")),t._p2X=t._p1X,t._p1X=r,t._p2Y=t._p1Y,t._p1Y=o},t._dragEndOrSwipe=function(e){var t=this;if(t.debug&&console.log(\"GestureBase._dragEndOrSwipe()\",e),!S(name)){var n=t.elem.getBoundingClientRect(),r=new C(e,t._p1X,t._p1Y,t._p1X-n.left,t._p1Y-n.top,t._p1X-t._oX,t._p1Y-t._oY,t._p2X-t._sX,t._p2Y-t._sY,t._vX,t._vY);t.debug&&console.log(\" -> dispatch\",e),t.elem.dispatchEvent(r)}},e}();new function(){var e=this,t=[],n=[],r=null!=document.createEventObject;function i(e){for(var n=null,r=0;r<t.length;r++)if(t[r].elem===e){n=t[r];break}return n||(n=function(e){var n=new N(e);return t.push(n),n}(e)),n}function a(t,n){var r=i(t);if(r.hasActiveChildren!=n){r.hasActiveChildren=n;for(var o=r.elem.getElementsByTagName(\"*\"),a=0;a<o.length;a++)o[a].parentNode==t&&(n?e.enable(o[a]):e.disable(o[a]))}}function s(e){for(var t=[],r=function e(t,r,o,i){t.style.visibility=\"hidden\",i.push(t);for(var a=document.elementFromPoint(r,o),s=0;s<n.length;s++)if(n[s].elem==a)return e(a,r,o,i);return a}(e.target,e.clientX,e.clientY,t),o=0;o<t.length;o++)t[o].style.visibility=\"visible\";return t=[],e.stopImmediatePropagation(),r}function l(e){var t=s(e),n=document.createEvent(\"HTMLEvents\");n.initEvent(e.type,!0,!1),t.dispatchEvent(n)}e._kills={},e.add=e.addEventListener=function(e,t,n){i(e).register(t,n),o.setCss(e,\"cursor\",\"pointer\"),o.setCss(e,\"pointer-events\",\"auto\")},e.remove=e.removeEventListener=function(e,t,n){var r=i(e);r&&(r.unregister(t,n),r.eventList.length<=0&&o.setCss(e,\"cursor\",\"auto\"))},e.disable=function(e){var t=i(e);n.push(t),r?(t.register(GestureEvent.CLICK,l),o.setCss(e,\"cursor\",\"auto\")):o.setCss(e,\"pointer-events\",\"none\")},e.disableChildren=function(e){a(e,!1)},e.enable=function(e){for(var t=i(e),a=0;a<n.length;a++)if(t==n[a]){r?t.unregister(GestureEvent.CLICK,l):(o.setCss(e,\"pointer-events\",\"auto\"),o.setCss(e,\"cursor\",\"pointer\"));break}},e.enableChildren=function(e){a(e,!0)}};function U(e){var t=this;t.pool=[],t.fps=e,t._frameTime=Math.floor(1e3/t.fps),t._prevTime=0,t._startTime=0,t._nextTime=0,t._maxLag=400,t._shiftLag=30,t._paused=!1,t._prevCallTime=Date.now(),t.diffTime=0}U.prototype={resume:function(){var e=this;e._isPaused&&(e._startTime=Date.now(),e._prevCallTime=e._startTime,e._prevTime=e._startTime,e._nextTime=0,e._isPaused=!1)},tick:function(){var e=this;if(!e._paused){var t=!1,n=Date.now(),r=n-e._prevTime;r>e._maxLag&&(console.log(\"...lag\"),e._startTime+=r-e._shiftLag),e._prevTime=n;var o=e._prevTime-e._startTime-e._nextTime;o>0&&(e._nextTime+=o>=e._frameTime?o:e._frameTime,t=!0,e.diffTime=n-e._prevCallTime,e._prevCallTime=n),t&&e.dispatch()}},dispatch:function(){for(var e=0;e<this.pool.length;e++){var t=this.pool[e];t.handler.call(t.from,this)}}};var V=U;n(39);function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(){};q(H,\"_isPaused\",!0),q(H,\"_isActive\",!0),q(H,\"_sets\",{}),q(H,\"_RAF\",void 0),q(H,\"register\",(function(e,t,n){var r=H;n=n||30,r._sets[n]||(r._sets[n]=new V(n));for(var o=r._sets[n].pool,i=0;i<o.length;i++)if(o[i].from===e&&o[i].handler===t)return;o.push({handler:t,from:e}),console.log(\"pool is now:\",o),r._isActive&&r.resume()})),q(H,\"unregister\",(function(e,t,n){var r=H;for(var o in r._sets)if(!n||o==n){for(var i=r._sets[o].pool,a=0;a<i.length;a++)if(i[a].from===e&&i[a].handler===t){i.splice(a,1);break}0==i.length&&delete r._sets[o]}0===Object.keys(r._sets).length&&(r.pause(),r._isActive=!0)})),q(H,\"pause\",(function(){var e=H;if(arguments.length>0){for(var t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];e._sets[n]&&(e._sets[n]._paused=!0,e._isPaused=!0)}for(var r in e._sets)if(!e._sets[r]._paused){e._isPaused=!1;break}}else{for(var r in e._sets)e._sets[r]._paused=!0;e._isPaused=!0}e._isPaused&&(e._isActive=!1,window.cancelAnimationFrame(e._RAF))})),q(H,\"resume\",(function(){var e=H,t=!e._isPaused;if(arguments.length>0)for(var n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];e._sets[r]&&(e._sets[r]._paused=!1,e._isPaused=!1)}else{for(var o in e._sets)e._sets[o]._paused=!1;e._isPaused=!1}t||(e._isActive=!0,e._RAF=window.requestAnimationFrame(e.tick))})),q(H,\"secondsAsFrames\",(function(e){return 1/e})),q(H,\"tick\",(function(){var e=H;if(!e._isPaused){for(var t in e._sets)e._sets[t].tick();window.requestAnimationFrame(e.tick)}}));var z,Y=H,G={easyTween:function(e,t,n){var r={};for(var o in e){var i,a=e[o],s=a.steps,c=\"max\"===a.duration?t:a.duration||t,u=a.loop?n%c/c:n/c;for(u=l.b.restrict(u,0,1),i=0;i<s.length-1;i++){var d=s[i],f=s[i+1];if(l.b.inRange(u,d.s,f.s)){var h=l.b.rel(d.v,f.v,d.s,f.s,u);r[o]=h;break}}}return r},randomNumInRange:function(e,t,n){return t?(n=n||.01,e+l.b.random(-t/2,t/2,n)):e},randomArrayInRange:function(e,t,n){n=n||.01;var r,o=[];for(r=0;r<e.length;r++)o.push(this.randomNumInRange(e[r],t[r],n));return o},randomVectorInRange:function(e,t,n){var r=new a.d(e.x,e.y),o=t.x/2,i=t.y/2;switch(n){case\"rect\":var s=l.b.random(-o,o,.01),c=l.b.random(-i,i,.01);u=new a.d(s,c);break;case\"oval\":default:var u;(u=a.d.random()).x*=o*Math.random(),u.y*=i*Math.random()}return r.add(u),r},secToFrameCount:function(e,t){return~~(e*t)},frameCountToSec:function(e,t){return e/t}};function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,W(e,t)}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var X,J,Q,$={DEFAULTSIZE:10,DEFAULTSTYLE:{x:0,y:0,alpha:1,scale:1,rotation:0,transformOrigin:{x:.5,y:.5},color:[255,0,0],strokeWidth:0,strokeColor:\"rgba(0, 0, 0, 1)\"}};$.Shape=(Q=function(e,t){return\"rgba(\"+~~l.b.restrict(e[0],0,255)+\",\"+~~l.b.restrict(e[1],0,255)+\",\"+~~l.b.restrict(e[2],0,255)+\",\"+l.b.restrict(t,0,1)+\")\"},(J=\"getRGBA\")in(X=z=function(){function e(){this.hasPath=!0}return e.prototype.render=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=0),(t=l.c.defaults(t,this.style)).scale=l.b.restrict(t.scale,0,1/0),t.alpha=l.b.restrict(t.alpha,0,1);var r=this.width*t.scale,o=this.height*t.scale;if(t.color=$.Shape.getRGBA(t.color,t.alpha),e.save(),t.alpha<1&&!this.hasPath&&(e.globalAlpha=t.alpha),e.translate(r*-t.transformOrigin.x,o*-t.transformOrigin.y),0!==t.rotation){var i=t.x+r*t.transformOrigin.x,a=t.y+o*t.transformOrigin.y;e.translate(i,a),e.rotate(l.b.toRadians(t.rotation)),e.translate(-i,-a)}this.hasPath&&e.beginPath(),this.draw(e,t,r,o,n),this.hasPath&&(e.closePath(),e.fillStyle=t.color,e.fill(),t.strokeWidth>0&&(e.lineWidth=t.strokeWidth,e.strokeStyle=t.strokeColor,e.stroke())),e.restore()},e}())?Object.defineProperty(X,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):X[J]=Q,z),$.Image=function(e){function t(t,n,r){var o;return void 0===n&&(n=t.width),void 0===r&&(r={}),(o=e.call(this)||this).hasPath=!1,o.image=t,o.width=n,o.height=o.width*(t.height/t.width),o.style=l.c.defaults(r,$.DEFAULTSTYLE),o}return K(t,e),t.prototype.draw=function(e,t,n,r){e.drawImage(this.image,t.x,t.y,n,r)},t}($.Shape),$.Circle=function(e){function t(t,n){var r;return void 0===t&&(t=$.DEFAULTSIZE),void 0===n&&(n={}),(r=e.call(this)||this).width=.5*t,r.height=r.width,r.style=l.c.defaults(n,$.DEFAULTSTYLE),r}return K(t,e),t.prototype.draw=function(e,t,n){e.arc(t.x+.5*n,t.y+.5*n,n,0,2*Math.PI)},t}($.Shape),$.Rect=function(e){function t(t,n,r){var o;return void 0===t&&(t=$.DEFAULTSIZ),void 0===n&&(n=$.DEFAULTSIZ),void 0===r&&(r={}),(o=e.call(this)||this).width=t,o.height=n,o.style=l.c.defaults(r,$.DEFAULTSTYLE),o}return K(t,e),t.prototype.draw=function(e,t,n,r){e.rect(t.x,t.y,n,r)},t}($.Shape),$.Sprite=function(e){function t(t,n,r,o){var i;return void 0===r&&(r={}),(i=e.call(this)||this).hasPath=!1,i.setting=o,i.image=t,i.oriWidth=t.width,i.oriHeight=t.height,i.width=n||i.oriWidth,i.height=i.width*(i.setting.frameWidth/i.setting.frameHeight),i.style=l.c.defaults(r,$.DEFAULTSTYLE),i.frameLen=~~(1/i.setting.speed),i.colNumber=i.oriWidth/i.setting.frameWidth,i}return K(t,e),t.prototype.draw=function(e,t,n,r,o){var i=~~(o/this.frameLen);if(this.setting.loop)i%=this.setting.frameNumber;else{var a=this.setting.frameNumber-1;i=i>a?a:i}var s=this.setting.frameWidth,l=this.setting.frameHeight,c=n/s,u=i*this.setting.frameWidth%this.oriWidth,d=~~(i/this.colNumber)*this.setting.frameHeight;e.drawImage(this.image,u,d,s,l,t.x,t.y,s*c,l*c)},t}($.Shape);var Z=$,ee=0,te=function(e,t){var n=this;n.graphic=e,n.originalProperties=t||{},n.defaultProperties={},n.properties=n.originalProperties,n.setDefaultProperties=function(e){n.defaultProperties=e,n.properties=l.c.defaults(n.originalProperties,e,!0)},n.generateIndividualProperties=function(){var e=G,t=function(t){return e.randomNumInRange(t.value,t.range)},r=n.properties,o=a.d.degreeToVector(t(r.velocityAngle)),i=t(r.scale),s=t(r.speed),l=e.randomVectorInRange(r.origin.value,r.origin.range,r.origin.shape),c={id:ee,lifeSpan:t(r.lifeSpan),location:l,velocity:o.mult(s),turbulence:r.turbulence,maxSpeed:r.maxSpeed,acceleration:r.acceleration,bounceAmount:r.bounceAmount,bodySize:n._getBodySize(i),style:{x:location.x,y:location.y,alpha:t(r.alpha),scale:i,rotation:t(r.rotation),transformOrigin:r.transformOrigin,color:G.randomArrayInRange(r.color.value,r.color.range)},animations:r.animations};return ee++,c},n._getBodySize=function(e){return void 0!==n.properties.bodySize?n.properties.bodySize*e:n.graphic instanceof Z.Circle?n.graphic.width*e:Math.max(n.graphic.width,n.graphic.height)*e*.5}},ne=function(e,t,n){var r=this;r.fps=n,r.graphic=t.graphic,r.properties=t.generateIndividualProperties(),r.frameCount=0,r.ctx=e,r._lifeSpanFrameCount=G.secToFrameCount(r.properties.lifeSpan,r.fps),r._force=new a.d(0,0),r._hasAnimation=function(){var e=r.properties.animations;for(var t in e)if(e[t].steps.length>0)return!0;return!1}.bind(r)(),r._hasTurbulence=function(){var e=r.properties.turbulence;return 0!==e.rate&&0!==e.x&&0!==e.y}.bind(r)()};ne.prototype={update:function(){var e=this.properties;e.velocity.clone();if(e.velocity.mult(1+e.acceleration),e.velocity.add(this._force),e.velocity.limit(e.maxSpeed),e.location.add(e.velocity),this._force.mult(0),this._hasTurbulence){this.noiseStart||(this.noiseStart=new a.d.random,this.noiseStart.mult(250));var t=e.turbulence;this.noiseStart.add(new a.d(t.rate,t.rate));var n=a.c.get(this.noiseStart.x,this.noiseStart.y);e.location.x+=n.x*t.xAmplitude,e.location.y+=n.y*t.yAmplitude}e.style.x=e.location.x,e.style.y=e.location.y,this.frameCount++},getAnimationStyle:function(){var e=this.properties,t={},n=G.frameCountToSec(this.frameCount,this.fps),r=G.easyTween(e.animations,e.lifeSpan,n);for(var o in e.style)if(void 0!==r[o]){var i=e.style[o]*r[o];t[o]=i}else t[o]=e.style[o];return t},render:function(){var e=this._hasAnimation?this.getAnimationStyle():this.properties.style;this.graphic.render(this.ctx,e,this.frameCount)},applyForce:function(e){this._force.add(e)},isDead:function(e,t,n){var r=this.properties;if(this._lifeSpanFrameCount-this.frameCount<=0)return!0;if(n){var o=r.location,i=this.graphic,a=Math.max(i.width,i.height)*r.style.scale;if(o.x-a>e||o.y-a>t||o.x+a<0||o.y+a<0)return!0}return!1},checkWorld:function(e){var t=this.properties.location,n=this.properties.bodySize,r=e[0]+n,o=e[1]-n,i=e[2]+n,a=e[3]-n;t.x<=r?this._checkBorder(\"x\",r):t.x>=o&&this._checkBorder(\"x\",o),t.y<=i?this._checkBorder(\"y\",i):t.y>=a&&this._checkBorder(\"y\",a)},_checkBorder:function(e,t){var n=this.properties,r=n.velocity,o=n.bounceAmount;\"x\"===e?(r.x*=-o,r.y*=o,n.location.x=t):(r.x*=o,r.y*=-o,n.location.y=t)}};var re=ne,oe=function(){var e=this;e.G=new a.d(0,.1),e.customBehaiver={emitter:[],particle:[]},e.init=function(t,n){var r=(n=n||{}).emitterData;e.fps=n.fps||60,e.canvas=t,e.ctx=t.getContext(\"2d\"),e.ctxWidth=t.width,e.ctxHeight=t.height,e.active=!1,e.frameCount=0,e.startEmitFrame=0,e.frameEmittedCount=0,e.liveParticles=[],e.particles=[],e.models=[],e.properties={},e.setProperties(r),e._drawBackground(),Y.register(e,e._run,e.fps)},e.set=function(t,n,r){r=void 0===r||r,l.c.objectifier.set(t,n,e.properties),r&&e._afterPropertyChanged([t.split(\".\")[0]])},e.get=function(t){return l.c.objectifier.get(t,e.properties)},e.setProperties=function(t){var n=[];for(var r in t)e.set(r,t[r],!1),n.push(r.split(\".\")[0]);e._afterPropertyChanged(n)},e.addCustomBehavier=function(e,t){this.customBehaiver[e].push(t)},this.removeCustomBehavier=function(e,t){var n,r=this.customBehaiver[e];for(n=0;n<r.length;n++)r[n]===t&&this.customBehaiver[e].splice(n,1)},e.emit=function(){e.active=!0,e.startEmitFrame=e.frameCount,0===e.properties.emitRate&&e.createParticles(e.properties.emitAmount)},e.stopEmitting=function(){e.active=!1},e.empty=function(){e.particles.forEach((function(e){null})),e.particles=[]},e.pause=function(){Y.unregister(e,e._run)},e.resume=function(){Y.register(e,e._run,e.fps)},e.tween={},e.tween.to=function(t,n){var r=(n=n||{}).onUpdate||null,o=n.delay||0;return delete n.delay,TweenLite.delayedCall(o,(function(){var o={};for(var i in n)void 0!==e.get(i)&&(o[i]=e.get(i));n.onUpdate=function(){r&&r(),e.setProperties(o)},TweenLite.to(o,t,n)}))},e.createParticles=function(t){if(e.frameEmittedCount++,!(e.models.length<=0)){var n,r=e.properties,o=e.probabilityMap;for(n=0;n<t;n++){var i,a=e.models;if(e.particles.length>=r.maxParticleAmount)return;if(r.pickRandomModel){var s,c=l.b.random(0,e.totalProbability,.01);for(s=0;s<o.length-1;s++)if(l.b.inRange(c,o[s],o[s+1])){i=s;break}}else i=(e.frameEmittedCount-1)%a.length;e.particles.push(new re(e.ctx,a[i],e.fps))}}},e.addModel=function(t){e.properties.particleModels.push(t),e._afterPropertyChanged([\"particleModels\"])},e.removeModel=function(t){var n,r=null,o=e.properties.particleModels;for(n=0;n<o.length;n++)if(t===o[n].id){r=n;break}null!==r&&(o.splice(r,1),e._afterPropertyChanged([\"particleModels\"]))},e._drawBackground=function(){var t=e.properties,n=t.background;if(t.clearCanvas){switch(e.frameCount>0&&(e.ctx.globalAlpha=n.alpha),n.type){case\"color\":e.ctx.beginPath(),e.ctx.rect(0,0,e.ctxWidth,e.ctxHeight),e.ctx.fillStyle=n.color,e.ctx.fill(),e.ctx.closePath();break;case\"image\":e.ctx.drawImage(g.get(n.image),0,0,e.ctxWidth,e.ctxHeight);break;default:e.ctx.clearRect(0,0,e.ctxWidth,e.ctxHeight)}e.ctx.globalAlpha=1}},e._afterPropertyChanged=function(t){if(void 0===t&&(t=[]),t.indexOf(\"globalForce\")>-1){var n=e.properties.globalForce;e._globalForce=a.d.degreeToVector(n.angle).mult(n.amount)}if(t.indexOf(\"particleModels\")>-1){e.models=[],e.totalProbability=0;for(var r=[],o=e.properties.particleModels,i=0;i<o.length;i++){var s,l,c=o[i];switch(c.type){case\"Image\":s=new Z[c.type](g.get(c.image),c.width,c.style);break;case\"Sprite\":s=new Z[c.type](g.get(c.image),c.width,c.style,c.spriteSetting);break;case\"Circle\":s=new Z[c.type](c.width,c.style);break;case\"Rect\":s=new Z[c.type](c.width,c.height,c.style)}(l=new te(s,c.properties)).setDefaultProperties(e.properties),e.models.push(l),r.push(e.totalProbability);var u=void 0===c.probability?1:c.probability;e.totalProbability+=u}r.push(e.totalProbability),e.probabilityMap=r}else{var d=e.properties;e.models.forEach((function(e){e.setDefaultProperties(d)}))}}.bind(e),e._run=function(){var t,n=e.properties;for(e._drawBackground(),t=0;t<e.particles.length;t++){var r=this.particles[t];if(r.isDead(e.ctxWidth,e.ctxHeight,n.killIfOutOfCanvas))r=null;else{if(e.liveParticles.push(r),r.update(),r.applyForce(e._globalForce),0!==n.gravityAmount){var o=e.G.clone();o.mult(n.gravityAmount),r.applyForce(o)}var i;if(n.world.active&&r.checkWorld(n.world.value),0!==e.customBehaiver.particle)for(i=0;i<e.customBehaiver.particle.length;i++)var a=e.customBehaiver.particle[i].call(a,r,e.particles);r.render()}}if(e.particles=e.liveParticles,e.liveParticles=[],0!==e.customBehaiver.emitter)for(i=0;i<e.customBehaiver.emitter.length;i++)a=e.customBehaiver.emitter[i].call(a,e);e.active&&((e.frameCount-e.startEmitFrame)%~~(1/n.emitRate)==0&&e.createParticles(n.emitAmount));e.frameCount++}}},function(e,t,n){\"use strict\";var r=function(e){return[{name:\"emit\",type:\"action\",defaultVal:function(){e.PS.emit()}},{name:\"stopEmitting\",type:\"action\",defaultVal:function(){e.PS.stopEmitting()}},{name:\"pause\",type:\"action\",defaultVal:function(){e.PS.pause()}},{name:\"resume\",type:\"action\",defaultVal:function(){e.PS.resume()}},{name:\"empty\",type:\"action\",defaultVal:function(){e.PS.empty()}},{name:\"publishCode\",type:\"action\",defaultVal:function(){e.publishCode()}}]},o=[{name:\"pickRandomModel\",type:\"boolean\",defaultVal:!0},{name:\"maxParticleAmount\",type:\"slider\",range:[0,1500],defaultVal:300,step:1},{name:\"emitRate\",type:\"slider\",range:[0,1],defaultVal:.1,step:.01},{name:\"emitAmount\",type:\"slider\",range:[0,50],defaultVal:1,step:1},{name:\"killIfOutOfCanvas\",type:\"boolean\",defaultVal:!1},{name:\"world\",type:\"folder\",children:[{name:\"worldActive\",type:\"boolean\",map:\"world.active\",defaultVal:!1,step:1},{name:\"left\",type:\"slider\",map:\"world.value.0\",defaultVal:0,range:[-200,1500],step:1},{name:\"right\",type:\"slider\",map:\"world.value.1\",defaultVal:300,range:[-200,1500],step:1},{name:\"top\",type:\"slider\",map:\"world.value.2\",defaultVal:0,range:[-200,1500],step:1},{name:\"bottom\",type:\"slider\",map:\"world.value.3\",defaultVal:300,range:[-500,1500],step:1}]},{name:\"gravityAmount\",type:\"slider\",range:[-5,5],defaultVal:.1,step:.01},{name:\"bounceAmount\",type:\"slider\",range:[0,.9],defaultVal:.1,step:.01},{name:\"globalForce\",type:\"folder\",map:\"globalForce\",children:[{name:\"forceAngle\",type:\"slider\",map:\"globalForce.angle\",defaultVal:0,range:[0,359],step:1},{name:\"forceAmount\",type:\"slider\",map:\"globalForce.amount\",defaultVal:.05,range:[0,.5],step:.01}]},{name:\"origin\",type:\"folder\",children:[{name:\"originShape\",type:\"dropdown\",map:\"origin.shape\",options:[\"rect\",\"oval\"]},{name:\"originX\",type:\"slider\",map:\"origin.value.x\",defaultVal:200,range:[-1e3,1e3]},{name:\"originY\",type:\"slider\",map:\"origin.value.y\",defaultVal:200,range:[-1e3,1e3]},{name:\"originXRange\",type:\"slider\",map:\"origin.range.x\",defaultVal:0,range:[0,1e3]},{name:\"originYRange\",type:\"slider\",map:\"origin.range.y\",defaultVal:0,range:[0,1e3]}]},{name:\"life span\",type:\"folder\",children:[{name:\"lifeSpanValue\",type:\"slider\",map:\"lifeSpan.value\",defaultVal:2,range:[.1,60]},{name:\"lifeSpanRange\",type:\"slider\",map:\"lifeSpan.range\",defaultVal:0,range:[0,50]}]},{name:\"velocityAngle\",type:\"folder\",children:[{name:\"angleValue\",type:\"slider\",map:\"velocityAngle.value\",defaultVal:.1,range:[0,359],step:1},{name:\"angleRange\",type:\"slider\",map:\"velocityAngle.range\",defaultVal:.1,range:[0,359],step:1}]},{name:\"speed\",type:\"folder\",children:[{name:\"speedValue\",type:\"slider\",map:\"speed.value\",defaultVal:1,range:[0,20],step:.1},{name:\"speedRange\",type:\"slider\",map:\"speed.range\",defaultVal:0,range:[0,20],step:.1}]},{name:\"acceleration\",type:\"slider\",range:[-.1,.1],defaultVal:.001,step:.01},{name:\"maxSpeed\",type:\"slider\",range:[0,50],defaultVal:30,step:.1},{name:\"turbulence\",type:\"folder\",children:[{name:\"tRate\",type:\"slider\",map:\"turbulence.rate\",defaultVal:.05,range:[0,.2],step:.01},{name:\"xAmplitude\",type:\"slider\",map:\"turbulence.xAmplitude\",defaultVal:.1,range:[0,10],step:.01},{name:\"yAmplitude\",type:\"slider\",map:\"turbulence.yAmplitude\",defaultVal:.1,range:[0,10],step:.01}]}],i=(n(4),function(e){return[{name:\"background\",type:\"folder\",children:[{name:\"bgType\",type:\"dropdown\",map:\"background.type\",defaultVal:\"none\",options:[\"none\",\"color\",\"image\"]},{name:\"bgColor\",type:\"color\",map:\"background.color\",defaultVal:\"#ff0000\"},{name:\"bgImage\",type:\"dropdown\",map:\"background.image\",defaultVal:\"\",options:e.images},{name:\"bgAlpha\",type:\"slider\",map:\"background.alpha\",range:[0,1],defaultVal:1}]},{name:\"clearCanvas\",type:\"boolean\",defaultVal:!0},{name:\"alpha\",type:\"folder\",children:[{name:\"alphaValue\",type:\"slider\",map:\"alpha.value\",defaultVal:.95,range:[0,1],step:.01},{name:\"alphaRange\",type:\"slider\",map:\"alpha.range\",defaultVal:.15,range:[0,1],step:.01}]},{name:\"transformOrigin\",type:\"folder\",children:[{name:\"originX\",type:\"slider\",map:\"transformOrigin.x\",defaultVal:.5,range:[-1,2],step:.01},{name:\"originY\",type:\"slider\",map:\"transformOrigin.y\",defaultVal:.5,range:[-1,2],step:.01}]},{name:\"scale\",type:\"folder\",children:[{name:\"scaleValue\",type:\"slider\",map:\"scale.value\",defaultVal:1.5,range:[0,10],step:.01},{name:\"scaleRange\",type:\"slider\",map:\"scale.range\",defaultVal:.15,range:[0,10],step:.01}]},{name:\"rotation\",type:\"folder\",children:[{name:\"rotationValue\",type:\"slider\",map:\"rotation.value\",defaultVal:0,range:[-360,360],step:1},{name:\"rotationRange\",type:\"slider\",map:\"rotation.range\",defaultVal:0,range:[0,360],step:1}]},{name:\"color\",type:\"folder\",children:[{name:\"colorValueR\",type:\"slider\",map:\"color.value.0\",defaultVal:255,range:[0,255],step:1},{name:\"colorValueG\",type:\"slider\",map:\"color.value.1\",defaultVal:100,range:[0,255],step:1},{name:\"colorValueB\",type:\"slider\",map:\"color.value.2\",defaultVal:100,range:[0,255],step:1},{name:\"colorRangeR\",type:\"slider\",map:\"color.range.0\",defaultVal:255,range:[0,255],step:1},{name:\"colorRangeG\",type:\"slider\",map:\"color.range.1\",defaultVal:100,range:[0,255],step:1},{name:\"colorRangeB\",type:\"slider\",map:\"color.range.2\",defaultVal:100,range:[0,255],step:1}]},{name:\"alphaAnimation\",type:\"folder\",children:[{name:\"alphaLoop\",type:\"boolean\",map:\"animations.alpha.loop\",defaultVal:!0},{name:\"alphaDuration\",type:\"text\",map:\"animations.alpha.duration\",defaultVal:\"max\"},{name:\"alphaSteps\",type:\"text\",map:\"animations.alpha.steps\",defaultVal:\"\"}]},{name:\"scaleAnimation\",type:\"folder\",children:[{name:\"scaleLoop\",type:\"boolean\",map:\"animations.scale.loop\",defaultVal:!0},{name:\"scaleDuration\",type:\"text\",map:\"animations.scale.duration\",defaultVal:\"max\"},{name:\"scaleSteps\",type:\"text\",map:\"animations.scale.steps\",defaultVal:\"\"}]},{name:\"rotationAnimation\",type:\"folder\",children:[{name:\"rotationLoop\",type:\"boolean\",map:\"animations.rotation.loop\",defaultVal:!0},{name:\"rotationDuration\",type:\"text\",map:\"animations.rotation.duration\",defaultVal:\"max\"},{name:\"rotationSteps\",type:\"text\",map:\"animations.rotation.steps\",defaultVal:\"\"}]}]}),a=function(e){return[{name:\"addParticleModel\",type:\"action\",defaultVal:function(){e.addParticleModel()}}]},s=function(e){var t=e.images;return function(n){return[{name:n+\"Type\",type:\"dropdown\",defaultVal:\"Circle\",options:[\"Image\",\"Circle\",\"Rect\",\"Sprite\"],modelKey:\"type\"},{name:n+\"ImageName\",type:\"dropdown\",defaultVal:t[0]||\"\",options:t,modelKey:\"image\"},{name:n+\"Width\",type:\"text\",defaultVal:10,min:0,modelKey:\"width\"},{name:n+\"Height\",type:\"text\",defaultVal:10,min:0,modelKey:\"height\"},{name:n+\"Probability\",type:\"slider\",range:[.1,50],defaultVal:1,min:.1,modelKey:\"probability\"},{name:n+\"Props\",type:\"text\",defaultVal:\"{}\",modelKey:\"properties\"},{name:n+\"SpriteSetting\",type:\"text\",defaultVal:{frameWidth:0,frameHeight:0,frameNumber:1,speed:.2,loop:!0},modelKey:\"spriteSetting\"},{name:n+\"Id\",type:\"text\",defaultVal:n,modelKey:\"id\"},{name:n+\"Delete\",type:\"action\",modelKey:null,defaultVal:function(){e.deleteParticleModel(n)}}]}};t.a=function(e){return{actions:r(e),emitterPhysics:o,styleAnimation:i(e),particleModel:a(e),getDefaultNewParticleModelData:s(e)}}},function(e,t){var n,r,o,i,a,s,l,c;window.dat=window.dat||{},dat.gui=dat.gui||{},dat.utils=dat.utils||{},dat.controllers=dat.controllers||{},dat.dom=dat.dom||{},dat.color=dat.color||{},dat.utils.css={load:function(e,t){var n=(t=t||document).createElement(\"link\");n.type=\"text/css\",n.rel=\"stylesheet\",n.href=e,t.getElementsByTagName(\"head\")[0].appendChild(n)},inject:function(e,t){t=t||document;var n=document.createElement(\"style\");n.type=\"text/css\",n.innerHTML=e,t.getElementsByTagName(\"head\")[0].appendChild(n)}},dat.utils.common=(n=Array.prototype.forEach,r=Array.prototype.slice,{BREAK:{},extend:function(e){return this.each(r.call(arguments,1),(function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])}),this),e},defaults:function(e){return this.each(r.call(arguments,1),(function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])}),this),e},compose:function(){var e=r.call(arguments);return function(){for(var t=r.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,r){if(e)if(n&&e.forEach&&e.forEach===n)e.forEach(t,r);else if(e.length===e.length+0){for(var o=0,i=e.length;o<i;o++)if(o in e&&t.call(r,e[o],o)===this.BREAK)return}else for(var o in e)if(t.call(r,e[o],o)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():r.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!=e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+\"\"},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return\"[object Function]\"===Object.prototype.toString.call(e)}}),dat.controllers.Controller=(o=function(e,t){this.initialValue=e[t],this.domElement=document.createElement(\"div\"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0},dat.utils.common.extend(o.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),o),dat.dom.dom=function(e){var t={};e.each({HTMLEvents:[\"change\"],MouseEvents:[\"click\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\"],KeyboardEvents:[\"keydown\"]},(function(n,r){e.each(n,(function(e){t[e]=r}))}));var n=/(\\d+(\\.\\d+)?)px/;function r(t){if(\"0\"===t||e.isUndefined(t))return 0;var r=t.match(n);return e.isNull(r)?0:parseFloat(r[1])}var o={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?\"auto\":\"none\",e.style.KhtmlUserSelect=t?\"auto\":\"none\",e.unselectable=t?\"on\":\"off\")},makeFullscreen:function(t,n,r){e.isUndefined(n)&&(n=!0),e.isUndefined(r)&&(r=!0),t.style.position=\"absolute\",n&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(n,r,o,i){o=o||{};var a=t[r];if(!a)throw new Error(\"Event type \"+r+\" not supported.\");var s=document.createEvent(a);switch(a){case\"MouseEvents\":var l=o.x||o.clientX||0,c=o.y||o.clientY||0;s.initMouseEvent(r,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,l,c,!1,!1,!1,!1,0,null);break;case\"KeyboardEvents\":var u=s.initKeyboardEvent||s.initKeyEvent;e.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(r,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:s.initEvent(r,o.bubbles||!1,o.cancelable||!0)}e.defaults(s,i),n.dispatchEvent(s)},bind:function(e,t,n,r){return r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent(\"on\"+t,n),o},unbind:function(e,t,n,r){return r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent(\"on\"+t,n),o},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1==n.indexOf(t)&&(n.push(t),e.className=n.join(\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\"))}return o},removeClass:function(e,t){if(t)if(void 0===e.className);else if(e.className===t)e.removeAttribute(\"class\");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!=r&&(n.splice(r,1),e.className=n.join(\" \"))}else e.className=void 0;return o},hasClass:function(e,t){return new RegExp(\"(?:^|\\\\s+)\"+t+\"(?:\\\\s+|$)\").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return r(t[\"border-left-width\"])+r(t[\"border-right-width\"])+r(t[\"padding-left\"])+r(t[\"padding-right\"])+r(t.width)},getHeight:function(e){var t=getComputedStyle(e);return r(t[\"border-top-width\"])+r(t[\"border-bottom-width\"])+r(t[\"padding-top\"])+r(t[\"padding-bottom\"])+r(t.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do{t.left+=e.offsetLeft,t.top+=e.offsetTop}while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return o}(dat.utils.common),dat.controllers.OptionController=function(e,t,n){var r=function e(r,o,i){e.superclass.call(this,r,o);var a=this;if(this.__select=document.createElement(\"select\"),n.isArray(i)){var s={};n.each(i,(function(e){s[e]=e})),i=s}n.each(i,(function(e,t){var n=document.createElement(\"option\");n.innerHTML=t,n.setAttribute(\"value\",e),a.__select.appendChild(n)})),this.updateDisplay(),t.bind(this.__select,\"change\",(function(){var e=this.options[this.selectedIndex].value;a.setValue(e)})),this.domElement.appendChild(this.__select)};return r.superclass=e,n.extend(r.prototype,e.prototype,{setValue:function(e){var t=r.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},updateDisplay:function(){return this.__select.value=this.getValue(),r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.NumberController=function(e,t){var n=function e(n,o,i){e.superclass.call(this,n,o),i=i||{},this.__min=i.min,this.__max=i.max,this.__step=i.step,t.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=.1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(this.initialValue))/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=r(this.__impliedStep)};function r(e){return(e=e.toString()).indexOf(\".\")>-1?e.length-e.indexOf(\".\")-1:0}return n.superclass=e,t.extend(n.prototype,e.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=r(e),this}}),n}(dat.controllers.Controller,dat.utils.common),dat.controllers.NumberControllerBox=(i=dat.controllers.NumberController,a=dat.dom.dom,s=dat.utils.common,(l=function e(t,n,r){this.__truncationSuspended=!1,e.superclass.call(this,t,n,r);var o,i=this;function l(){var e=parseFloat(i.__input.value);s.isNaN(e)||i.setValue(e)}function c(e){var t=o-e.clientY;i.setValue(i.getValue()+t*i.__impliedStep),o=e.clientY}function u(){a.unbind(window,\"mousemove\",c),a.unbind(window,\"mouseup\",u)}this.__input=document.createElement(\"input\"),this.__input.setAttribute(\"type\",\"text\"),a.bind(this.__input,\"change\",l),a.bind(this.__input,\"blur\",(function(){l(),i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),a.bind(this.__input,\"mousedown\",(function(e){a.bind(window,\"mousemove\",c),a.bind(window,\"mouseup\",u),o=e.clientY})),a.bind(this.__input,\"keydown\",(function(e){13===e.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1)})),this.updateDisplay(),this.domElement.appendChild(this.__input)}).superclass=i,s.extend(l.prototype,i.prototype,{updateDisplay:function(){var e,t,n;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),t=this.__precision,n=Math.pow(10,t),Math.round(e*n)/n),l.superclass.prototype.updateDisplay.call(this)}}),l),dat.controllers.NumberControllerSlider=function(e,t,n,r,o){var i=function e(n,r,o,i,a){e.superclass.call(this,n,r,{min:o,max:i,step:a});var s=this;function l(e){e.preventDefault();var n,r,o,i,a,l=t.getOffset(s.__background),c=t.getWidth(s.__background);return s.setValue((n=e.clientX,r=l.left,o=l.left+c,i=s.__min,a=s.__max,i+(n-r)/(o-r)*(a-i))),!1}function c(){t.unbind(window,\"mousemove\",l),t.unbind(window,\"mouseup\",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}this.__background=document.createElement(\"div\"),this.__foreground=document.createElement(\"div\"),t.bind(this.__background,\"mousedown\",(function(e){t.bind(window,\"mousemove\",l),t.bind(window,\"mouseup\",c),l(e)})),t.addClass(this.__background,\"slider\"),t.addClass(this.__foreground,\"slider-fg\"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return i.superclass=e,i.useDefaultStyles=function(){n.inject(\"/**\\n * dat-gui JavaScript Controller Library\\n * http://code.google.com/p/dat-gui\\n *\\n * Copyright 2011 Data Arts Team, Google Creative Lab\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n * http://www.apache.org/licenses/LICENSE-2.0\\n */\\n\\n.slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\")},r.extend(i.prototype,e.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+\"%\",i.superclass.prototype.updateDisplay.call(this)}}),i}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common),dat.controllers.FunctionController=function(e,t,n){var r=function e(n,r,o){e.superclass.call(this,n,r);var i=this;this.__button=document.createElement(\"div\"),this.__button.innerHTML=void 0===o?\"Fire\":o,t.bind(this.__button,\"click\",(function(e){return e.preventDefault(),i.fire(),!1})),t.addClass(this.__button,\"button\"),this.domElement.appendChild(this.__button)};return r.superclass=e,n.extend(r.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.BooleanController=function(e,t,n){var r=function e(n,r){e.superclass.call(this,n,r);var o=this;this.__prev=this.getValue(),this.__checkbox=document.createElement(\"input\"),this.__checkbox.setAttribute(\"type\",\"checkbox\"),t.bind(this.__checkbox,\"change\",(function(){o.setValue(!o.__prev)}),!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return r.superclass=e,n.extend(r.prototype,e.prototype,{setValue:function(e){var t=r.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute(\"checked\",\"checked\"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.color.toString=function(e){return function(t){if(1==t.a||e.isUndefined(t.a)){for(var n=t.hex.toString(16);n.length<6;)n=\"0\"+n;return\"#\"+n}return\"rgba(\"+Math.round(t.r)+\",\"+Math.round(t.g)+\",\"+Math.round(t.b)+\",\"+t.a+\")\"}}(dat.utils.common),dat.color.interpret=function(e,t){var n,r,o=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:\"HEX\",hex:parseInt(\"0x\"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:\"HEX\",hex:parseInt(\"0x\"+t[1].toString())}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==t&&{space:\"RGB\",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);return null!==t&&{space:\"RGB\",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:\"HEX\",hex:e,conversionName:\"HEX\"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:\"RGB\",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:\"RGB\",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a))&&{space:\"RGB\",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b))&&{space:\"RGB\",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a))&&{space:\"HSV\",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v))&&{space:\"HSV\",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return function(){r=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(o,(function(o){if(o.litmus(e))return t.each(o.conversions,(function(o,i){if(n=o.read(e),!1===r&&!1!==n)return r=n,n.conversionName=i,n.conversion=o,t.BREAK})),t.BREAK})),r}}(dat.color.toString,dat.utils.common),dat.GUI=dat.gui.GUI=function(e,t,n,r,o,i,a,s,l,c,u,d,f,h,p){e.inject(\".dg {\\n  /** Clear list styles */\\n  /* Auto-place container */\\n  /* Auto-placed GUI's */\\n  /* Line items that don't contain folders. */\\n  /** Folder names */\\n  /** Hides closed items */\\n  /** Controller row */\\n  /** Name-half (left) */\\n  /** Controller-half (right) */\\n  /** Controller placement */\\n  /** Shorter number boxes when slider is present. */\\n  /** Ensure the entire boolean and function row shows a hand */ }\\n  .dg ul {\\n    list-style: none;\\n    margin: 0;\\n    padding: 0;\\n    width: 100%;\\n    clear: both; }\\n  .dg.ac {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    height: 0;\\n    z-index: 0; }\\n  .dg:not(.ac) .main {\\n    /** Exclude mains in ac so that we don't hide close button */\\n    overflow: hidden; }\\n  .dg.main {\\n    -webkit-transition: opacity 0.1s linear;\\n    -o-transition: opacity 0.1s linear;\\n    -moz-transition: opacity 0.1s linear;\\n    transition: opacity 0.1s linear; }\\n    .dg.main.taller-than-window {\\n      overflow-y: auto; }\\n      .dg.main.taller-than-window .close-button {\\n        opacity: 1;\\n        /* TODO, these are style notes */\\n        margin-top: -1px;\\n        border-top: 1px solid #2c2c2c; }\\n    .dg.main ul.closed .close-button {\\n      opacity: 1 !important; }\\n    .dg.main:hover .close-button,\\n    .dg.main .close-button.drag {\\n      opacity: 1; }\\n    .dg.main .close-button {\\n      /*opacity: 0;*/\\n      -webkit-transition: opacity 0.1s linear;\\n      -o-transition: opacity 0.1s linear;\\n      -moz-transition: opacity 0.1s linear;\\n      transition: opacity 0.1s linear;\\n      border: 0;\\n      position: absolute;\\n      line-height: 19px;\\n      height: 20px;\\n      /* TODO, these are style notes */\\n      cursor: pointer;\\n      text-align: center;\\n      background-color: #000; }\\n      .dg.main .close-button:hover {\\n        background-color: #111; }\\n  .dg.a {\\n    float: right;\\n    margin-right: 15px;\\n    overflow-x: hidden; }\\n    .dg.a.has-save > ul {\\n      margin-top: 27px; }\\n      .dg.a.has-save > ul.closed {\\n        margin-top: 0; }\\n    .dg.a .save-row {\\n      position: fixed;\\n      top: 0;\\n      z-index: 1002; }\\n  .dg li {\\n    -webkit-transition: height 0.1s ease-out;\\n    -o-transition: height 0.1s ease-out;\\n    -moz-transition: height 0.1s ease-out;\\n    transition: height 0.1s ease-out; }\\n  .dg li:not(.folder) {\\n    cursor: auto;\\n    height: 27px;\\n    line-height: 27px;\\n    overflow: hidden;\\n    padding: 0 4px 0 5px; }\\n  .dg li.folder {\\n    padding: 0;\\n    border-left: 4px solid rgba(0, 0, 0, 0); }\\n  .dg li.title {\\n    cursor: pointer;\\n    margin-left: -4px; }\\n  .dg .closed li:not(.title),\\n  .dg .closed ul li,\\n  .dg .closed ul li > * {\\n    height: 0;\\n    overflow: hidden;\\n    border: 0; }\\n  .dg .cr {\\n    clear: both;\\n    padding-left: 3px;\\n    height: 27px; }\\n  .dg .property-name {\\n    cursor: default;\\n    float: left;\\n    clear: left;\\n    width: 40%;\\n    overflow: hidden;\\n    text-overflow: ellipsis; }\\n  .dg .c {\\n    float: left;\\n    width: 60%; }\\n  .dg .c input[type=text] {\\n    border: 0;\\n    margin-top: 4px;\\n    padding: 3px;\\n    width: 100%;\\n    float: right; }\\n  .dg .has-slider input[type=text] {\\n    width: 30%;\\n    /*display: none;*/\\n    margin-left: 0; }\\n  .dg .slider {\\n    float: left;\\n    width: 66%;\\n    margin-left: -5px;\\n    margin-right: 0;\\n    height: 19px;\\n    margin-top: 4px; }\\n  .dg .slider-fg {\\n    height: 100%; }\\n  .dg .c input[type=checkbox] {\\n    margin-top: 9px; }\\n  .dg .c select {\\n    margin-top: 5px; }\\n  .dg .cr.function,\\n  .dg .cr.function .property-name,\\n  .dg .cr.function *,\\n  .dg .cr.boolean,\\n  .dg .cr.boolean * {\\n    cursor: pointer; }\\n  .dg .selector {\\n    display: none;\\n    position: absolute;\\n    margin-left: -9px;\\n    margin-top: 23px;\\n    z-index: 10; }\\n  .dg .c:hover .selector,\\n  .dg .selector.drag {\\n    display: block; }\\n  .dg li.save-row {\\n    padding: 0; }\\n    .dg li.save-row .button {\\n      display: inline-block;\\n      padding: 0px 6px; }\\n  .dg.dialogue {\\n    background-color: #222;\\n    width: 460px;\\n    padding: 15px;\\n    font-size: 13px;\\n    line-height: 15px; }\\n\\n/* TODO Separate style and structure */\\n#dg-new-constructor {\\n  padding: 10px;\\n  color: #222;\\n  font-family: Monaco, monospace;\\n  font-size: 10px;\\n  border: 0;\\n  resize: none;\\n  box-shadow: inset 1px 1px 1px #888;\\n  word-wrap: break-word;\\n  margin: 12px 0;\\n  display: block;\\n  width: 440px;\\n  overflow-y: scroll;\\n  height: 100px;\\n  position: relative; }\\n\\n#dg-local-explain {\\n  display: none;\\n  font-size: 11px;\\n  line-height: 17px;\\n  border-radius: 3px;\\n  background-color: #333;\\n  padding: 8px;\\n  margin-top: 10px; }\\n  #dg-local-explain code {\\n    font-size: 10px; }\\n\\n#dat-gui-save-locally {\\n  display: none; }\\n\\n/** Main type */\\n.dg {\\n  color: #eee;\\n  font: 11px 'Lucida Grande', sans-serif;\\n  text-shadow: 0 -1px 0 #111;\\n  /** Auto place */\\n  /* Controller row, <li> */\\n  /** Controllers */ }\\n  .dg.main {\\n    /** Scrollbar */ }\\n    .dg.main::-webkit-scrollbar {\\n      width: 5px;\\n      background: #1a1a1a; }\\n    .dg.main::-webkit-scrollbar-corner {\\n      height: 0;\\n      display: none; }\\n    .dg.main::-webkit-scrollbar-thumb {\\n      border-radius: 5px;\\n      background: #676767; }\\n  .dg li:not(.folder) {\\n    background: #1a1a1a;\\n    border-bottom: 1px solid #2c2c2c; }\\n  .dg li.save-row {\\n    line-height: 25px;\\n    background: #dad5cb;\\n    border: 0; }\\n    .dg li.save-row select {\\n      margin-left: 5px;\\n      width: 108px; }\\n    .dg li.save-row .button {\\n      margin-left: 5px;\\n      margin-top: 1px;\\n      border-radius: 2px;\\n      font-size: 9px;\\n      line-height: 7px;\\n      padding: 4px 4px 5px 4px;\\n      background: #c5bdad;\\n      color: #fff;\\n      text-shadow: 0 1px 0 #b0a58f;\\n      box-shadow: 0 -1px 0 #b0a58f;\\n      cursor: pointer; }\\n      .dg li.save-row .button.gears {\\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\\n        height: 7px;\\n        width: 8px; }\\n      .dg li.save-row .button:hover {\\n        background-color: #bab19e;\\n        box-shadow: 0 -1px 0 #b0a58f; }\\n  .dg li.folder {\\n    border-bottom: 0; }\\n  .dg li.title {\\n    padding-left: 16px;\\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\\n    cursor: pointer;\\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\\n  .dg .closed li.title {\\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\\n  .dg .cr.boolean {\\n    border-left: 3px solid #806787; }\\n  .dg .cr.function {\\n    border-left: 3px solid #e61d5f; }\\n  .dg .cr.number {\\n    border-left: 3px solid #2fa1d6; }\\n    .dg .cr.number input[type=text] {\\n      color: #2fa1d6; }\\n  .dg .cr.string {\\n    border-left: 3px solid #1ed36f; }\\n    .dg .cr.string input[type=text] {\\n      color: #1ed36f; }\\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\\n    background: #111; }\\n  .dg .c input[type=text] {\\n    background: #303030;\\n    outline: none; }\\n    .dg .c input[type=text]:hover {\\n      background: #3c3c3c; }\\n    .dg .c input[type=text]:focus {\\n      background: #494949;\\n      color: #fff; }\\n  .dg .c .slider {\\n    background: #303030;\\n    cursor: ew-resize; }\\n  .dg .c .slider-fg {\\n    background: #2fa1d6; }\\n  .dg .c .slider:hover {\\n    background: #3c3c3c; }\\n    .dg .c .slider:hover .slider-fg {\\n      background: #44abda; }\\n\");var m,g,_=function(){try{return\"localStorage\"in window&&null!==window.localStorage}catch(e){return!1}}(),y=!0,v=!1,b=[],w=function e(t){var n=this;this.domElement=document.createElement(\"div\"),this.__ul=document.createElement(\"ul\"),this.domElement.appendChild(this.__ul),h.addClass(this.domElement,\"dg\"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=p.defaults(t,{autoPlace:!0,width:e.DEFAULT_WIDTH}),t=p.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),p.isUndefined(t.load)?t.load={preset:\"Default\"}:t.preset&&(t.load.preset=t.preset),p.isUndefined(t.parent)&&t.hideable&&b.push(this),t.resizable=p.isUndefined(t.parent)&&t.resizable,t.autoPlace&&p.isUndefined(t.scrollable)&&(t.scrollable=!0);var r,o=_&&\"true\"===localStorage.getItem(A(this,\"isLocal\"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:t.load.preset},set:function(e){n.parent?n.getRoot().preset=e:t.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value==e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return t.width},set:function(e){t.width=e,T(n,e)}},name:{get:function(){return t.name},set:function(e){t.name=e,a&&(a.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(r){t.closed=r,t.closed?h.addClass(n.__ul,e.CLASS_CLOSED):h.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=r?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return o},set:function(e){_&&(o=e,e?h.bind(window,\"unload\",r):h.unbind(window,\"unload\",r),localStorage.setItem(A(n,\"isLocal\"),e))}}}),p.isUndefined(t.parent)){if(t.closed=!1,h.addClass(this.domElement,e.CLASS_MAIN),h.makeSelectable(this.domElement,!1),_&&o){n.useLocalStorage=!0;var i=localStorage.getItem(A(this,\"gui\"));i&&(t.load=JSON.parse(i))}this.__closeButton=document.createElement(\"div\"),this.__closeButton.innerHTML=e.TEXT_CLOSED,h.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),h.bind(this.__closeButton,\"click\",(function(){n.closed=!n.closed}))}else{void 0===t.closed&&(t.closed=!0);var a=document.createTextNode(t.name);h.addClass(a,\"controller-name\");var s=x(n,a);h.addClass(this.__ul,e.CLASS_CLOSED),h.addClass(s,\"title\"),h.bind(s,\"click\",(function(e){return e.preventDefault(),n.closed=!n.closed,!1})),t.closed||(this.closed=!1)}t.autoPlace&&(p.isUndefined(t.parent)&&(y&&(g=document.createElement(\"div\"),h.addClass(g,\"dg\"),h.addClass(g,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(g),y=!1),g.appendChild(this.domElement),h.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||T(n,t.width)),h.bind(window,\"resize\",(function(){n.onResize()})),h.bind(this.__ul,\"webkitTransitionEnd\",(function(){n.onResize()})),h.bind(this.__ul,\"transitionend\",(function(){n.onResize()})),h.bind(this.__ul,\"oTransitionEnd\",(function(){n.onResize()})),this.onResize(),t.resizable&&O(this),r=function(){_&&\"true\"===localStorage.getItem(A(n,\"isLocal\"))&&localStorage.setItem(A(n,\"gui\"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=r;n.getRoot();t.parent||function(){var e=n.getRoot();e.width+=1,p.defer((function(){e.width-=1}))}()};function E(e,t,n,c){if(void 0===t[n])throw new Error(\"Object \"+t+' has no property \"'+n+'\"');var d;if(c.color)d=new u(t,n);else{var f=[t,n].concat(c.factoryArgs);d=r.apply(e,f)}c.before instanceof o&&(c.before=c.before.__li),C(e,d),h.addClass(d.domElement,\"c\");var m=document.createElement(\"span\");h.addClass(m,\"property-name\"),m.innerHTML=d.property;var g=document.createElement(\"div\");g.appendChild(m),g.appendChild(d.domElement);var _=x(e,g,c.before),y=d.getValue();if(h.addClass(_,w.CLASS_CONTROLLER_ROW),h.addClass(_,typeof y),\"string\"==typeof y){var v=y[0],b=y[y.length-1];(\"[\"===v&&\"]\"===b||\"{\"===v&&\"}\"===b)&&h.addClass(_,\"text-box\")}return function(e,t,n){if(n.__li=t,n.__gui=e,p.extend(n,{options:function(t){return arguments.length>1?(n.remove(),E(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[p.toArray(arguments)]})):p.isArray(t)||p.isObject(t)?(n.remove(),E(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof l){var r=new s(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});p.each([\"updateDisplay\",\"onChange\",\"onFinishChange\"],(function(e){var t=n[e],o=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),o.apply(r,e)}})),h.addClass(t,\"has-slider\"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof s){var o=function(t){return p.isNumber(n.__min)&&p.isNumber(n.__max)?(n.remove(),E(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=p.compose(o,n.min),n.max=p.compose(o,n.max)}else n instanceof i?(h.bind(t,\"click\",(function(){h.fakeEvent(n.__checkbox,\"click\")})),h.bind(n.__checkbox,\"click\",(function(e){e.stopPropagation()}))):n instanceof a?(h.bind(t,\"click\",(function(){h.fakeEvent(n.__button,\"click\")})),h.bind(t,\"mouseover\",(function(){h.addClass(n.__button,\"hover\")})),h.bind(t,\"mouseout\",(function(){h.removeClass(n.__button,\"hover\")}))):n instanceof u&&(h.addClass(t,\"color\"),n.updateDisplay=p.compose((function(e){return t.style.borderLeftColor=n.__color.toString(),e}),n.updateDisplay),n.updateDisplay());n.setValue=p.compose((function(t){return e.getRoot().__preset_select&&n.isModified()&&k(e.getRoot(),!0),t}),n.setValue)}(e,_,d),e.__controllers.push(d),d}function x(e,t,n){var r=document.createElement(\"li\");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,params.before):e.__ul.appendChild(r),e.onResize(),r}function C(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!=r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[r]=o),o[t.property]=t,n.load&&n.load.remembered){var i,a=n.load.remembered;if(a[e.preset])i=a[e.preset];else{if(!a.Default)return;i=a.Default}if(i[r]&&void 0!==i[r][t.property]){var s=i[r][t.property];t.initialValue=s,t.setValue(s)}}}}function A(e,t){return document.location.href+\".\"+t}function S(e){var t=e.__save_row=document.createElement(\"li\");h.addClass(e.domElement,\"has-save\"),e.__ul.insertBefore(t,e.__ul.firstChild),h.addClass(t,\"save-row\");var n=document.createElement(\"span\");n.innerHTML=\"&nbsp;\",h.addClass(n,\"button gears\");var r=document.createElement(\"span\");r.innerHTML=\"Save\",h.addClass(r,\"button\"),h.addClass(r,\"save\");var o=document.createElement(\"span\");o.innerHTML=\"New\",h.addClass(o,\"button\"),h.addClass(o,\"save-as\");var i=document.createElement(\"span\");i.innerHTML=\"Revert\",h.addClass(i,\"button\"),h.addClass(i,\"revert\");var a=e.__preset_select=document.createElement(\"select\");if(e.load&&e.load.remembered?p.each(e.load.remembered,(function(t,n){R(e,n,n==e.preset)})):R(e,\"Default\",!1),h.bind(a,\"change\",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(a),t.appendChild(n),t.appendChild(r),t.appendChild(o),t.appendChild(i),_){var s=function(){c.style.display=e.useLocalStorage?\"block\":\"none\"},l=document.getElementById(\"dg-save-locally\"),c=document.getElementById(\"dg-local-explain\");l.style.display=\"block\";var u=document.getElementById(\"dg-local-storage\");\"true\"===localStorage.getItem(A(0,\"isLocal\"))&&u.setAttribute(\"checked\",\"checked\"),s(),h.bind(u,\"change\",(function(){e.useLocalStorage=!e.useLocalStorage,s()}))}var d=document.getElementById(\"dg-new-constructor\");h.bind(d,\"keydown\",(function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||m.hide()})),h.bind(n,\"click\",(function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),m.show(),d.focus(),d.select()})),h.bind(r,\"click\",(function(){e.save()})),h.bind(o,\"click\",(function(){var t=prompt(\"Enter a new preset name.\");t&&e.saveAs(t)})),h.bind(i,\"click\",(function(){e.revert()}))}function O(e){var t;function n(n){return n.preventDefault(),t=n.clientX,h.addClass(e.__closeButton,w.CLASS_DRAG),h.bind(window,\"mousemove\",r),h.bind(window,\"mouseup\",o),!1}function r(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function o(){h.removeClass(e.__closeButton,w.CLASS_DRAG),h.unbind(window,\"mousemove\",r),h.unbind(window,\"mouseup\",o)}e.__resize_handle=document.createElement(\"div\"),p.extend(e.__resize_handle.style,{width:\"6px\",marginLeft:\"-3px\",height:\"200px\",cursor:\"ew-resize\",position:\"absolute\"}),h.bind(e.__resize_handle,\"mousedown\",n),h.bind(e.__closeButton,\"mousedown\",n),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function T(e,t){e.domElement.style.width=t+\"px\",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+\"px\"),e.__closeButton&&(e.__closeButton.style.width=t+\"px\")}function P(e,t){var n={};return p.each(e.__rememberedObjects,(function(r,o){var i={},a=e.__rememberedObjectIndecesToControllers[o];p.each(a,(function(e,n){i[n]=t?e.initialValue:e.getValue()})),n[o]=i})),n}function R(e,t,n){var r=document.createElement(\"option\");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function k(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+\"*\":n.value}return w.toggleHide=function(){v=!v,p.each(b,(function(e){e.domElement.style.zIndex=v?-999:999,e.domElement.style.opacity=v?0:1}))},w.CLASS_AUTO_PLACE=\"a\",w.CLASS_AUTO_PLACE_CONTAINER=\"ac\",w.CLASS_MAIN=\"main\",w.CLASS_CONTROLLER_ROW=\"cr\",w.CLASS_TOO_TALL=\"taller-than-window\",w.CLASS_CLOSED=\"closed\",w.CLASS_CLOSE_BUTTON=\"close-button\",w.CLASS_DRAG=\"drag\",w.DEFAULT_WIDTH=245,w.TEXT_CLOSED=\"Close Controls\",w.TEXT_OPEN=\"Open Controls\",h.bind(window,\"keydown\",(function(e){\"text\"===document.activeElement.type||72!==e.which&&72!=e.keyCode||w.toggleHide()}),!1),p.extend(w.prototype,{add:function(e,t){return E(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return E(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;p.defer((function(){t.onResize()}))},destroy:function(){this.autoPlace&&g.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name \"'+e+'\"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new w(t);this.__folders[e]=n;var r=x(this,n.domElement);return r.id=e,h.addClass(r,\"folder\"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=h.getOffset(e.__ul).top,n=0;p.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(n+=h.getHeight(t))})),window.innerHeight-t-20<n?(h.addClass(e.domElement,w.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+\"px\"):(h.removeClass(e.domElement,w.CLASS_TOO_TALL),e.__ul.style.height=\"auto\")}e.__resize_handle&&p.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+\"px\"})),e.__closeButton&&(e.__closeButton.style.width=e.width+\"px\")},remember:function(){if(p.isUndefined(m)&&((m=new f).domElement.innerHTML=t),this.parent)throw new Error(\"You can only call remember on a top level GUI.\");var e=this;p.each(Array.prototype.slice.call(arguments),(function(t){0==e.__rememberedObjects.length&&S(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&T(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=P(this)),e.folders={},p.each(this.__folders,(function(t,n){e.folders[n]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=P(this),k(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=P(this,!0)),this.load.remembered[e]=P(this),this.preset=e,R(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){p.each(this.__controllers,(function(t){this.getRoot().load.remembered?C(e||this.getRoot(),t):t.setValue(t.initialValue)}),this),p.each(this.__folders,(function(e){e.revert(e)})),e||k(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&function e(t){0!=t.length&&d((function(){e(t)}));p.each(t,(function(e){e.updateDisplay()}))}(this.__listening)}}),w}(dat.utils.css,'<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>',0,dat.controllers.factory=function(e,t,n,r,o,i,a){return function(s,l){var c=s[l];if(a.isArray(arguments[2])||a.isObject(arguments[2]))return new e(s,l,arguments[2]);if(a.isNumber(c))return a.isNumber(arguments[2])&&a.isNumber(arguments[3])?new n(s,l,arguments[2],arguments[3]):new t(s,l,{min:arguments[2],max:arguments[3]});if(a.isString(c)){var u=c[0],d=c[c.length-1],f=\"[\"===u&&\"]\"===d||\"{\"===u&&\"}\"===d;return new r(f,s,l)}return a.isFunction(c)?new o(s,l,\"\"):a.isBoolean(c)?new i(s,l):void 0}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(e,t,n){var r=function e(n,r,o){e.superclass.call(this,r,o);var i=this;function a(){i.setValue(i.__input.value),n&&i.__onFinishChange.call(i,i.getValue())}this.__input=n?document.createElement(\"textarea\"):document.createElement(\"input\"),this.__input.setAttribute(\"type\",\"text\"),n?(this.__btn=document.createElement(\"button\"),this.__btn.innerHTML=\"Update\",t.bind(this.__btn,\"click\",a)):(t.bind(this.__input,\"keyup\",a),t.bind(this.__input,\"change\",a),t.bind(this.__input,\"blur\",(function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),t.bind(this.__input,\"keydown\",(function(e){13===e.keyCode&&this.blur()}))),this.updateDisplay(),this.domElement.appendChild(this.__input),n&&this.domElement.appendChild(this.__btn)};return r.superclass=e,n.extend(r.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),r.superclass.prototype.updateDisplay.call(this)}}),r}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,dat.controllers.ColorController=function(e,t,n,r,o){var i=function e(i,a){e.superclass.call(this,i,a),this.__color=new n(this.getValue()),this.__temp=new n(0);var l=this;this.domElement=document.createElement(\"div\"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement(\"div\"),this.__selector.className=\"selector\",this.__saturation_field=document.createElement(\"div\"),this.__saturation_field.className=\"saturation-field\",this.__field_knob=document.createElement(\"div\"),this.__field_knob.className=\"field-knob\",this.__field_knob_border=\"2px solid \",this.__hue_knob=document.createElement(\"div\"),this.__hue_knob.className=\"hue-knob\",this.__hue_field=document.createElement(\"div\"),this.__hue_field.className=\"hue-field\",this.__input=document.createElement(\"input\"),this.__input.type=\"text\",this.__input_textShadow=\"0 1px 1px \",t.bind(this.__input,\"keydown\",(function(e){13===e.keyCode&&h.call(this)})),t.bind(this.__input,\"blur\",h),t.bind(this.__selector,\"mousedown\",(function(e){t.addClass(this,\"drag\").bind(window,\"mouseup\",(function(e){t.removeClass(l.__selector,\"drag\")}))}));var c,u=document.createElement(\"div\");function d(e){m(e),t.bind(window,\"mousemove\",m),t.bind(window,\"mouseup\",f)}function f(){t.unbind(window,\"mousemove\",m),t.unbind(window,\"mouseup\",f)}function h(){var e=r(this.value);!1!==e?(l.__color.__state=e,l.setValue(l.__color.toOriginal())):this.value=l.__color.toString()}function p(){t.unbind(window,\"mousemove\",g),t.unbind(window,\"mouseup\",p)}function m(e){e.preventDefault();var n=t.getWidth(l.__saturation_field),r=t.getOffset(l.__saturation_field),o=(e.clientX-r.left+document.body.scrollLeft)/n,i=1-(e.clientY-r.top+document.body.scrollTop)/n;return i>1?i=1:i<0&&(i=0),o>1?o=1:o<0&&(o=0),l.__color.v=i,l.__color.s=o,l.setValue(l.__color.toOriginal()),!1}function g(e){e.preventDefault();var n=t.getHeight(l.__hue_field),r=t.getOffset(l.__hue_field),o=1-(e.clientY-r.top+document.body.scrollTop)/n;return o>1?o=1:o<0&&(o=0),l.__color.h=360*o,l.setValue(l.__color.toOriginal()),!1}o.extend(this.__selector.style,{width:\"122px\",height:\"102px\",padding:\"3px\",backgroundColor:\"#222\",boxShadow:\"0px 1px 3px rgba(0,0,0,0.3)\"}),o.extend(this.__field_knob.style,{position:\"absolute\",width:\"12px\",height:\"12px\",border:this.__field_knob_border+(this.__color.v<.5?\"#fff\":\"#000\"),boxShadow:\"0px 1px 3px rgba(0,0,0,0.5)\",borderRadius:\"12px\",zIndex:1}),o.extend(this.__hue_knob.style,{position:\"absolute\",width:\"15px\",height:\"2px\",borderRight:\"4px solid #fff\",zIndex:1}),o.extend(this.__saturation_field.style,{width:\"100px\",height:\"100px\",border:\"1px solid #555\",marginRight:\"3px\",display:\"inline-block\",cursor:\"pointer\"}),o.extend(u.style,{width:\"100%\",height:\"100%\",background:\"none\"}),s(u,\"top\",\"rgba(0,0,0,0)\",\"#000\"),o.extend(this.__hue_field.style,{width:\"15px\",height:\"100px\",display:\"inline-block\",border:\"1px solid #555\",cursor:\"ns-resize\"}),(c=this.__hue_field).style.background=\"\",c.style.cssText+=\"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\",c.style.cssText+=\"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",c.style.cssText+=\"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",c.style.cssText+=\"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",c.style.cssText+=\"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",o.extend(this.__input.style,{outline:\"none\",textAlign:\"center\",color:\"#fff\",border:0,fontWeight:\"bold\",textShadow:this.__input_textShadow+\"rgba(0,0,0,0.7)\"}),t.bind(this.__saturation_field,\"mousedown\",d),t.bind(this.__field_knob,\"mousedown\",d),t.bind(this.__hue_field,\"mousedown\",(function(e){g(e),t.bind(window,\"mousemove\",g),t.bind(window,\"mouseup\",p)})),this.__saturation_field.appendChild(u),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};i.superclass=e,o.extend(i.prototype,e.prototype,{updateDisplay:function(){var e=r(this.getValue());if(!1!==e){var t=!1;o.each(n.COMPONENTS,(function(n){if(!o.isUndefined(e[n])&&!o.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}}),this),t&&o.extend(this.__color.__state,e)}o.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0,a=255-i;o.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+\"px\",marginTop:100*(1-this.__color.v)-7+\"px\",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+\"rgb(\"+i+\",\"+i+\",\"+i+\")\"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+\"px\",this.__temp.s=1,this.__temp.v=1,s(this.__saturation_field,\"left\",\"#fff\",this.__temp.toString()),o.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:\"rgb(\"+i+\",\"+i+\",\"+i+\")\",textShadow:this.__input_textShadow+\"rgba(\"+a+\",\"+a+\",\"+a+\",.7)\"})}});var a=[\"-moz-\",\"-o-\",\"-webkit-\",\"-ms-\",\"\"];function s(e,t,n,r){e.style.background=\"\",o.each(a,(function(o){e.style.cssText+=\"background: \"+o+\"linear-gradient(\"+t+\", \"+n+\" 0%, \"+r+\" 100%); \"}))}return i}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(e,t,n,r){var o=function(){if(this.__state=e.apply(this,arguments),!1===this.__state)throw\"Failed to interpret color arguments\";this.__state.a=this.__state.a||1};function i(e,t,n){Object.defineProperty(e,t,{get:function(){return\"RGB\"===this.__state.space||s(this,t,n),this.__state[t]},set:function(e){\"RGB\"!==this.__state.space&&(s(this,t,n),this.__state.space=\"RGB\"),this.__state[t]=e}})}function a(e,t){Object.defineProperty(e,t,{get:function(){return\"HSV\"===this.__state.space||l(this),this.__state[t]},set:function(e){\"HSV\"!==this.__state.space&&(l(this),this.__state.space=\"HSV\"),this.__state[t]=e}})}function s(e,n,o){if(\"HEX\"===e.__state.space)e.__state[n]=t.component_from_hex(e.__state.hex,o);else{if(\"HSV\"!==e.__state.space)throw\"Corrupted color state\";r.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function l(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);r.extend(e.__state,{s:n.s,v:n.v}),r.isNaN(n.h)?r.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}return o.COMPONENTS=[\"r\",\"g\",\"b\",\"h\",\"s\",\"v\",\"hex\",\"a\"],r.extend(o.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),i(o.prototype,\"r\",2),i(o.prototype,\"g\",1),i(o.prototype,\"b\",0),a(o.prototype,\"h\"),a(o.prototype,\"s\"),a(o.prototype,\"v\"),Object.defineProperty(o.prototype,\"a\",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(o.prototype,\"hex\",{get:function(){return\"HEX\"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space=\"HEX\",this.__state.hex=e}}),o}(dat.color.interpret,dat.color.math={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=[[n,s,i],[a,n,i],[i,n,s],[i,a,n],[s,i,n],[n,i,a]][r];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var r,o=Math.min(e,t,n),i=Math.max(e,t,n),a=i-o;return 0==i?{h:NaN,s:0,v:0}:(r=e==i?(t-n)/a:t==i?2+(n-e)/a:4+(e-t)/a,(r/=6)<0&&(r+=1),{h:360*r,s:a/i,v:i/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(c=8*t)|e&~(255<<c)}},dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},dat.dom.CenteredDiv=function(e,t){var n=function(){this.backgroundElement=document.createElement(\"div\"),t.extend(this.backgroundElement.style,{backgroundColor:\"rgba(0,0,0,0.8)\",top:0,left:0,display:\"none\",zIndex:\"1000\",opacity:0,WebkitTransition:\"opacity 0.2s linear\"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position=\"fixed\",this.domElement=document.createElement(\"div\"),t.extend(this.domElement.style,{position:\"fixed\",display:\"none\",zIndex:\"1001\",opacity:0,WebkitTransition:\"-webkit-transform 0.2s ease-out, opacity 0.2s linear\"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;e.bind(this.backgroundElement,\"click\",(function(){n.hide()}))};return n.prototype.show=function(){var e=this;this.backgroundElement.style.display=\"block\",this.domElement.style.display=\"block\",this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\",this.layout(),t.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform=\"scale(1)\"}))},n.prototype.hide=function(){var t=this,n=function n(){t.domElement.style.display=\"none\",t.backgroundElement.style.display=\"none\",e.unbind(t.domElement,\"webkitTransitionEnd\",n),e.unbind(t.domElement,\"transitionend\",n),e.unbind(t.domElement,\"oTransitionEnd\",n)};e.bind(this.domElement,\"webkitTransitionEnd\",n),e.bind(this.domElement,\"transitionend\",n),e.bind(this.domElement,\"oTransitionEnd\",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+\"px\",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+\"px\"},n}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common)},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[\"$\"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks[\"$\"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks[\"$\"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){\"use strict\";var r=n(24);function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},o.prototype.parse=function(e){return this._parser=e,this},o.prototype.responseType=function(e){return this._responseType=e,this},o.prototype.serialize=function(e){return this._serializer=e,this},o.prototype.timeout=function(e){if(!e||\"object\"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case\"deadline\":this._timeout=e.deadline;break;case\"response\":this._responseTimeout=e.response;break;default:console.warn(\"Unknown timeout option\",t)}return this},o.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var i=[\"ECONNRESET\",\"ETIMEDOUT\",\"EADDRINFO\",\"ESOCKETTIMEDOUT\"];o.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&\"ECONNABORTED\"==e.code)return!0;if(e.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn(\"Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises\"),this._fullfilledPromise=new Promise((function(e,t){n.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.use=function(e){return e(this),this},o.prototype.ok=function(e){if(\"function\"!=typeof e)throw Error(\"Callback required\");return this._okCallback=e,this},o.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},o.prototype.get=function(e){return this._header[e.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},o.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},o.prototype.field=function(e,t){if(null==e)throw new Error(\".field(name, val) name can not be empty\");if(this._data&&console.error(\".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()\"),r(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var o in t)this.field(e,t[o]);return this}if(null==t)throw new Error(\".field(name, val) val can not be empty\");return\"boolean\"==typeof t&&(t=\"\"+t),this._getFormData().append(e,t),this},o.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit(\"abort\")),this},o.prototype._auth=function(e,t,n,r){switch(n.type){case\"basic\":this.set(\"Authorization\",\"Basic \"+r(e+\":\"+t));break;case\"auto\":this.username=e,this.password=t;break;case\"bearer\":this.set(\"Authorization\",\"Bearer \"+e)}return this},o.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},o.prototype.redirects=function(e){return this._maxRedirects=e,this},o.prototype.maxResponseSize=function(e){if(\"number\"!=typeof e)throw TypeError(\"Invalid argument\");return this._maxResponseSize=e,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(e){var t=r(e),n=this._header[\"content-type\"];if(this._formData&&console.error(\".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()\"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error(\"Can't merge these send calls\");if(t&&r(this._data))for(var o in e)this._data[o]=e[o];else\"string\"==typeof e?(n||this.type(\"form\"),n=this._header[\"content-type\"],this._data=\"application/x-www-form-urlencoded\"==n?this._data?this._data+\"&\"+e:e:(this._data||\"\")+e):this._data=e;return!t||this._isHost(e)||n||this.type(\"json\"),this},o.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},o.prototype._finalizeQueryString=function(){var e=this._query.join(\"&\");if(e&&(this.url+=(this.url.indexOf(\"?\")>=0?\"&\":\"?\")+e),this._query.length=0,this._sort){var t=this.url.indexOf(\"?\");if(t>=0){var n=this.url.substring(t+1).split(\"&\");\"function\"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+\"?\"+n.join(\"&\")}}},o.prototype._appendQueryString=function(){console.trace(\"Unsupported\")},o.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+\"ms exceeded\");r.timeout=t,r.code=\"ECONNABORTED\",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},o.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError(\"Timeout of \",e._timeout,\"ETIME\")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError(\"Response timeout of \",e._responseTimeout,\"ETIMEDOUT\")}),this._responseTimeout))}},function(e,t,n){\"use strict\";var r=n(37);function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.get=function(e){return this.header[e.toLowerCase()]},o.prototype._setHeaderProperties=function(e){var t=e[\"content-type\"]||\"\";this.type=r.type(t);var n=r.params(t);for(var o in n)this[o]=n[o];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},o.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,n){\"use strict\";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var n=t.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(e[r]=o),e}),{})},t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e}),{})},t.cleanHeader=function(e,t){return delete e[\"content-type\"],delete e[\"content-length\"],delete e[\"transfer-encoding\"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}[\"use\",\"on\",\"once\",\"set\",\"query\",\"type\",\"accept\",\"auth\",\"withCredentials\",\"sortQuery\",\"retry\",\"ok\",\"redirects\",\"timeout\",\"buffer\",\"serialize\",\"parse\",\"ca\",\"key\",\"pfx\",\"cert\"].forEach((function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}})),n.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,t.arguments)}))},e.exports=n},function(e,t){for(var n=/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent),r=[\"webkit\",\"moz\"],o=0;!window.requestAnimationFrame&&o<r.length;o++)window.requestAnimationFrame=window[r[o]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[r[o]+\"CancelAnimationFrame\"]||window[r[o]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame&&window.cancelAnimationFrame&&!n||(console.log(\"PolyFill -> FrameRate\"),window.requestAnimationFrame=function(e){return setTimeout(e,17)},window.cancelAnimationFrame=clearTimeout)},function(e,t,n){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar r=n(41),o=n(42),i=n(43);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError(\"Invalid typed array length\");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<n+(r||0))throw new RangeError(\"'length' is out of bounds\");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,n,r):\"string\"==typeof t?function(e,t,n){\"string\"==typeof n&&\"\"!==n||(n=\"utf8\");if(!l.isEncoding(n))throw new TypeError('\"encoding\" must be a valid string encoding');var r=0|p(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if(\"Buffer\"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function u(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a().toString(16)+\" bytes\");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return U(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return V(e).length;default:if(r)return U(e).length;t=(\"\"+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return P(this,t,n);case\"utf8\":case\"utf-8\":return S(this,t,n);case\"ascii\":return O(this,t,n);case\"latin1\":case\"binary\":return T(this,t,n);case\"base64\":return A(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return R(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,o){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if(\"string\"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if(\"number\"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError(\"val must be string, number or Buffer\")}function y(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(c(e,i+f)!==c(t,f)){d=!1;break}if(d)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError(\"Invalid hex string\");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return q(U(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function x(e,t,n,r){return q(V(t),e,n,r)}function C(e,t,n,r){return q(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?\"string\"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?S(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e=\"\",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError(\"out of range index\");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(n)?(n|=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var i=!1;;)switch(r){case\"hex\":return v(this,e,t,n);case\"utf8\":case\"utf-8\":return b(this,e,t,n);case\"ascii\":return w(this,e,t,n);case\"latin1\":case\"binary\":return E(this,e,t,n);case\"base64\":return x(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return C(this,e,t,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o=\"\",i=t;i<n;++i)o+=N(e[i]);return o}function R(e,t,n){for(var r=e.slice(t,n),o=\"\",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function D(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function I(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function F(e,t,n,r,i){return i||I(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||I(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);D(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);D(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!l.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r)}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:U(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var j=/[^+\\/0-9A-Za-z-_]/g;function N(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(j,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function q(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(14))},function(e,t,n){\"use strict\";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+\"==\")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+\"=\"));return i.join(\"\")};for(var r=[],o=[],i=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",s=0,l=a.length;s<l;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join(\"\")}o[\"-\".charCodeAt(0)]=62,o[\"_\".charCodeAt(0)]=63},function(e,t){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nt.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==n.call(e)}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(e){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(e,t,n){\"use strict\";n.r(t);var r={};n.r(r),n.d(r,\"addImageRequest\",(function(){return h})),n.d(r,\"getImageId\",(function(){return p})),n.d(r,\"load\",(function(){return m})),n.d(r,\"add\",(function(){return g})),n.d(r,\"get\",(function(){return _}));n(33),n(22),new(function(){function e(){this.assets=[]}var t=e.prototype;return t.add=function(e,t,n){var r=this.getAsset(e);r?(r.src=t||null,r.preloader=n):this.assets.push({path:e,src:t||null,preloader:n})},t.get=function(e){var t=this.getAsset(e);return t?t.src||t.path+\"?=\"+Date.now():e},t.getAsset=function(e){for(var t in this.assets)if(console.log(this.assets[t],e),this.assets[t].path==e)return this.assets[t]},e}());function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",l=i.toStringTag||\"@@toStringTag\";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},\"\")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new S(o||[]);return r(a,\"_invoke\",{value:E(e,n,s)}),a}function d(e,t,n){try{return{type:\"normal\",arg:e.call(t,n)}}catch(e){return{type:\"throw\",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function m(){}var g={};c(g,a,(function(){return this}));var _=Object.getPrototypeOf,y=_&&_(_(O([])));y&&y!==t&&n.call(y,a)&&(g=y);var v=m.prototype=h.prototype=Object.create(g);function b(e){[\"next\",\"throw\",\"return\"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var o;r(this,\"_invoke\",{value:function(r,i){function a(){return new t((function(o,a){!function r(o,i,a,s){var l=d(e[o],e,i);if(\"throw\"!==l.type){var c=l.arg,u=c.value;return u&&\"object\"==typeof u&&n.call(u,\"__await\")?t.resolve(u.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return r(\"throw\",e,a,s)}))}s(l.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}})}function E(e,t,n){var r=\"suspendedStart\";return function(o,i){if(\"executing\"===r)throw new Error(\"Generator is already running\");if(\"completed\"===r){if(\"throw\"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===r)throw r=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=\"executing\";var l=d(e,t,n);if(\"normal\"===l.type){if(r=n.done?\"completed\":\"suspendedYield\",l.arg===f)continue;return{value:l.arg,done:n.done}}\"throw\"===l.type&&(r=\"completed\",n.method=\"throw\",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=void 0,x(e,t),\"throw\"===t.method))return f;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return f}var r=d(n,e.iterator,t.arg);if(\"throw\"===r.type)return t.method=\"throw\",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=void 0),t.delegate=null,f):o:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,r(v,\"constructor\",{value:m,configurable:!0}),r(m,\"constructor\",{value:p,configurable:!0}),p.displayName=c(m,l,\"GeneratorFunction\"),e.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===p||\"GeneratorFunction\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,\"GeneratorFunction\")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),c(v,l,\"Generator\"),c(v,a,(function(){return this})),c(v,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)\"t\"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type=\"throw\",a.arg=e,t.next=n,r&&(t.method=\"next\",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if(\"root\"===i.tryLoc)return r(\"end\");if(i.tryLoc<=this.prev){var s=n.call(i,\"catchLoc\"),l=n.call(i,\"finallyLoc\");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error(\"try statement without catch or finally\");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;A(n)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),f}},e}function i(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var a=function(){var e,t=(e=o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(void 0===n?{}:n).crossOrigin,e.abrupt(\"return\",new Promise((function(e,n){var o=new Image;o.id=t.imageId,o.crossOrigin=r,o.onload=function(){e({imageId:t.imageId,src:t.src,img:o})},o.onerror=n,o.src=t.src})));case 2:case\"end\":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,\"next\",e)}function l(e){i(a,r,o,s,l,\"throw\",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),s=function(e){return e instanceof Image||e instanceof SVGElement};function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o=\"function\"==typeof Symbol?Symbol:{},i=o.iterator||\"@@iterator\",a=o.asyncIterator||\"@@asyncIterator\",s=o.toStringTag||\"@@toStringTag\";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},\"\")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new S(o||[]);return r(a,\"_invoke\",{value:E(e,n,s)}),a}function d(e,t,n){try{return{type:\"normal\",arg:e.call(t,n)}}catch(e){return{type:\"throw\",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function m(){}var g={};c(g,i,(function(){return this}));var _=Object.getPrototypeOf,y=_&&_(_(O([])));y&&y!==t&&n.call(y,i)&&(g=y);var v=m.prototype=h.prototype=Object.create(g);function b(e){[\"next\",\"throw\",\"return\"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var o;r(this,\"_invoke\",{value:function(r,i){function a(){return new t((function(o,a){!function r(o,i,a,s){var l=d(e[o],e,i);if(\"throw\"!==l.type){var c=l.arg,u=c.value;return u&&\"object\"==typeof u&&n.call(u,\"__await\")?t.resolve(u.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return r(\"throw\",e,a,s)}))}s(l.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}})}function E(e,t,n){var r=\"suspendedStart\";return function(o,i){if(\"executing\"===r)throw new Error(\"Generator is already running\");if(\"completed\"===r){if(\"throw\"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===r)throw r=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=\"executing\";var l=d(e,t,n);if(\"normal\"===l.type){if(r=n.done?\"completed\":\"suspendedYield\",l.arg===f)continue;return{value:l.arg,done:n.done}}\"throw\"===l.type&&(r=\"completed\",n.method=\"throw\",n.arg=l.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=void 0,x(e,t),\"throw\"===t.method))return f;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return f}var r=d(n,e.iterator,t.arg);if(\"throw\"===r.type)return t.method=\"throw\",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=void 0),t.delegate=null,f):o:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,r(v,\"constructor\",{value:m,configurable:!0}),r(m,\"constructor\",{value:p,configurable:!0}),p.displayName=c(m,s,\"GeneratorFunction\"),e.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===p||\"GeneratorFunction\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,\"GeneratorFunction\")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),c(v,s,\"Generator\"),c(v,i,(function(){return this})),c(v,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)\"t\"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type=\"throw\",a.arg=e,t.next=n,r&&(t.method=\"next\",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if(\"root\"===i.tryLoc)return r(\"end\");if(i.tryLoc<=this.prev){var s=n.call(i,\"catchLoc\"),l=n.call(i,\"finallyLoc\");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error(\"try statement without catch or finally\");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;A(n)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),f}},e}function c(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,\"next\",e)}function s(e){c(i,r,o,a,s,\"throw\",e)}a(void 0)}))}}var d={},f=[],h=function(e){var t=void 0===e?{}:e,n=t.src,r=t.imageId,o=t.forCanvas;if(n)return r||(r=p(n)),f.push({imageId:r,src:n,forCanvas:o}),r},p=function(e){return n=(t=e).lastIndexOf(\".\"),r=t.lastIndexOf(\"/\")+1,t.substring(r,r<n?n:void 0);var t,n,r},m=function(){var e=u(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,Promise.all(f.map(function(){var e=u(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.forCanvas?{crossOrigin:\"anonymous\"}:{},e.next=3,a(t,n);case 3:return e.abrupt(\"return\",e.sent);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function g(e){console.log(\"ImageManager.add()\"),e.forEach((function(e){var t=s(e)?{imageId:e.id,img:e}:e;s(t.img)&&(console.log(\" \"+t.imageId),d[t.imageId]=t.img)}))}var _=function(e){if(!d[e])throw new Error(\"No image-id \"+e+\" has been loaded.\");return d[e]},y=n(27),v=function(){for(var e=\"\",t=/\\/+$/g,n=/^\\/+|\\/+$/g,r=0;r<arguments.length;r++){var o=arguments[r];e+=(0===r?o.replace(t,\"\"):o.replace(n,\"\"))+\"/\"}return e=e.replace(t,\"\")},b=n(4),w=(n(6),n(0)),E=n(16),x=n(17);var C=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.a.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},A=n(11),S=n(7);function O(e,t){const n=this||A.a,r=t||n,o=S.a.from(r.headers);let i=r.data;return w.a.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function T(e){return!(!e||!e.__CANCEL__)}var P=n(9);function R(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new P.a}function k(e){R(e),e.headers=S.a.from(e.headers),e.data=O.call(e,e.transformRequest);return(e.adapter||A.a.adapter)(e).then((function(t){return R(e),t.data=O.call(e,e.transformResponse,t),t.headers=S.a.from(t.headers),t}),(function(t){return T(t)||(R(e),t&&t.response&&(t.response.data=O.call(e,e.transformResponse,t.response),t.response.headers=S.a.from(t.response.headers))),Promise.reject(t)}))}function D(e,t){t=t||{};const n={};function r(e,t){return w.a.isPlainObject(e)&&w.a.isPlainObject(t)?w.a.merge(e,t):w.a.isPlainObject(t)?w.a.merge({},t):w.a.isArray(t)?t.slice():t}function o(n){return w.a.isUndefined(t[n])?w.a.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!w.a.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return w.a.isUndefined(t[n])?w.a.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return w.a.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){const t=l[e]||o,r=t(e);w.a.isUndefined(r)&&t!==s||(n[e]=r)})),n}var L=n(21);var M=n(2);const I={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach((e,t)=>{I[e]=function(n){return typeof n===e||\"a\"+(t<1?\"n \":\" \")+e}});const F={};I.transitional=function(e,t,n){function r(e,t){return\"[Axios v1.1.3] Transitional option '\"+e+\"'\"+t+(n?\". \"+n:\"\")}return(n,o,i)=>{if(!1===e)throw new M.a(r(o,\" has been removed\"+(t?\" in \"+t:\"\")),M.a.ERR_DEPRECATED);return t&&!F[o]&&(F[o]=!0,console.warn(r(o,\" has been deprecated since v\"+t+\" and will be removed in the near future\"))),!e||e(n,o,i)}};var B={assertOptions:function(e,t,n){if(\"object\"!=typeof e)throw new M.a(\"options must be an object\",M.a.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new M.a(\"option \"+i+\" must be \"+n,M.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new M.a(\"Unknown option \"+i,M.a.ERR_BAD_OPTION)}},validators:I};const j=B.validators;class N{constructor(e){this.defaults=e,this.interceptors={request:new C,response:new C}}request(e,t){\"string\"==typeof e?(t=t||{}).url=e:t=e||{},t=D(this.defaults,t);const{transitional:n,paramsSerializer:r}=t;void 0!==n&&B.assertOptions(n,{silentJSONParsing:j.transitional(j.boolean),forcedJSONParsing:j.transitional(j.boolean),clarifyTimeoutError:j.transitional(j.boolean)},!1),void 0!==r&&B.assertOptions(r,{encode:j.function,serialize:j.function},!0),t.method=(t.method||this.defaults.method||\"get\").toLowerCase();const o=t.headers&&w.a.merge(t.headers.common,t.headers[t.method]);o&&w.a.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(function(e){delete t.headers[e]})),t.headers=new S.a(t.headers,o);const i=[];let a=!0;this.interceptors.request.forEach((function(e){\"function\"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const s=[];let l;this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)}));let c,u=0;if(!a){const e=[k.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,s),c=e.length,l=Promise.resolve(t);u<c;)l=l.then(e[u++],e[u++]);return l}c=i.length;let d=t;for(u=0;u<c;){const e=i[u++],t=i[u++];try{d=e(d)}catch(e){t.call(this,e);break}}try{l=k.call(this,d)}catch(e){return Promise.reject(e)}for(u=0,c=s.length;u<c;)l=l.then(s[u++],s[u++]);return l}getUri(e){e=D(this.defaults,e);const t=Object(L.a)(e.baseURL,e.url);return Object(x.a)(t,e.params,e.paramsSerializer)}}w.a.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(e){N.prototype[e]=function(t,n){return this.request(D(n||{},{method:e,url:t,data:(n||{}).data}))}})),w.a.forEach([\"post\",\"put\",\"patch\"],(function(e){function t(t){return function(n,r,o){return this.request(D(o||{},{method:e,headers:t?{\"Content-Type\":\"multipart/form-data\"}:{},url:n,data:r}))}}N.prototype[e]=t(),N.prototype[e+\"Form\"]=t(!0)}));var U=N,V=n(20);class q{constructor(e){if(\"function\"!=typeof e)throw new TypeError(\"executor must be a function.\");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new P.a(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new q((function(t){e=t})),cancel:e}}}var H=q,z=n(8);const Y=function e(t){const n=new U(t),r=Object(E.a)(U.prototype.request,n);return w.a.extend(r,U.prototype,n,{allOwnKeys:!0}),w.a.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(D(t,n))},r}(A.a);Y.Axios=U,Y.CanceledError=P.a,Y.CancelToken=H,Y.isCancel=T,Y.VERSION=\"1.1.3\",Y.toFormData=z.a,Y.AxiosError=M.a,Y.Cancel=Y.CanceledError,Y.all=function(e){return Promise.all(e)},Y.spread=function(e){return function(t){return e.apply(null,t)}},Y.isAxiosError=function(e){return w.a.isObject(e)&&!0===e.isAxiosError},Y.formToJSON=e=>Object(V.a)(w.a.isHTMLForm(e)?new FormData(e):e);var G=Y;const{Axios:K,AxiosError:W,CanceledError:X,isCancel:J,CancelToken:Q,VERSION:$,all:Z,Cancel:ee,isAxiosError:te,spread:ne,toFormData:re}=G;var oe=G,ie=/([a-zA-Z0-9_.-]*)\\.(png|jpg|jpeg)/,ae=function(e){e=e.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\");var t=new RegExp(\"[\\\\?&]\"+e+\"=([^&#]*)\").exec(location.search);return null===t?null:decodeURIComponent(t[1].replace(/\\+/g,\" \"))}(\"size\");function se(e){if(0!==e.emitterDataFiles.length){var t,n,o,i=v((t=window.location,n=t.origin,o=t.pathname,v(n,\"1-build\",o)),ae),a=e.imagePaths.filter((function(e){return ie.test(e)}));a.forEach((function(e){var t=v(\"/images\",e);r.add(t)})),r.load((function(){var t=a.map((function(e){return ie.exec(e)[1]}));!function(e){var t=e.content,n=e.adPath,r=e.loadedImageNames,o=function(e){var t=/(\\d+)x(\\d+)/;if(t.test(e)){var n=t.exec(e);return{width:n[1],height:n[2]}}return null}(n);Object(b.b)(\"adPath\",n),Object(b.b)(\"adWidth\",o.width),Object(b.b)(\"adHeight\",o.height),Object(b.b)(\"imagePaths\",t.images),Object(b.b)(\"loadedImageNames\",r),Object(b.b)(\"emitterDataFiles\",t.emitterDataFiles)}({content:e,adPath:i,loadedImageNames:t}),window.Interface=new y.a}))}else{document.querySelector(\"#data-selector\").classList.add(\"show-warning\",\"show\")}}function le(e){var t=e.replace(/\\r?\\n|\\r|\\s/g,\"\"),n=/\\{(.*)\\}/.exec(t);return n?n[0]:\"\"}oe.get(\"/@ff0000-ad-tech/cs-plugin-particle-simulator/api/?action=getInfo&size=\"+ae).then((function(e){console.log(\"RES:\",e),console.log(\"RES DATA:\",e.data),console.log(\"RES DATA OUT:\",e.data.stdout);var t=JSON.parse(e.data.stdout);t.emitterDataFiles=t.emitterDataFiles.map((function(e){return{name:e.name,content:le(e.content)}})),se(t)})).catch((function(e){alert(\"Error with API. Unable to proceed\",e),console.log(e)}))}]);"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}