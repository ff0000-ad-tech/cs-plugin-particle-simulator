<!DOCTYPE HTML>
<html>
	<head>
		<title>Particle System Simulator</title>
		<link rel="stylesheet" href="./main.css">
	</head>
	<body>
		<div id="main-container">
			<canvas id="canvas-el"></canvas>
			<div id="block-guide"></div>
			<canvas id="velocity-guide" width=120 height=120></canvas>
			<canvas id="force-guide" width=120 height=120></canvas>
			<div id="code-display">
				<img id="code-close-sign" src="./images/close.png" width=30 />
				
				<div id="code-close"></div>
				<div class='code-wrapper'>
					<strong>Here is your output</strong>
					<textarea id="code-display-text"></textarea>
					<div id='save' class='btn'>Save to File</div>
				</div>
				<div id='saved-message' class='centered-message'></div>
			</div>
			<div id="data-selector">
				<div id="selector-wrapper">
					<strong>^Ï‰^ Hi, which EmitterData would you like to use?</strong>
					<ul id="data-options">
					</ul>
				</div>
				<div id='warning' class='centered-message'>(@_@) Oops, we can't find any Emitter Data files.<br /></div>
			</div>
		</div>
		<script>
      /*
       some dependencies under window used in FAT libs
      */
			var global = window;

			// var adParams = {};

			var failAd = function () {}

			var trace = function ( str ) {
				console.log( str );
			};

			var assets = {
				images: []
			}

			function matchProtocolTo( _url ) {
				if( _url.search( /^http/ ) > -1 ) {
					var _secure = window.location.href.search( /^https/ ) > -1;
					var _httpProtocol = _secure ? "https://" : "http://";
					
					if( _url.search( /.*edgecastcdn/ ) > -1 ) {
						var _edgecastContext = _secure ? "ne1." + _url.match( /w(a|p)c/i )[ 0 ] + "." : _url.match( /w(a|p)c\.[a-z0-9]*\./i )[ 0 ];
						_url = _httpProtocol + _edgecastContext + "edgecastcdn" + _url.replace( /.*edgecastcdn/, "" );
					} 
					else if( _url.search( /.*paramount\.com/ ) > -1 ) {
						var _paramountContext = _secure ? "paramountdlds-a.akamaihd.net" : "downloads.paramount.com";
						_url = _httpProtocol + _paramountContext + _url.replace( /.*paramount\.com/, "" );
					}
					else if( _url.search( /espn\.go\.com/ ) > -1 ) {
						var _espnContext = _secure ? "cdn.secure" : "assets";
						_url = _httpProtocol + _espnContext + ".espn.go.com" + _url.replace( /^.*espn\.go\.com/, "" );
					}
					else {
						_url = _url.replace( /^https?\:\/\//i, _httpProtocol );
					}
				}
				return _url;
			}
		</script>
		<script src="./bundle.js"></script>
	</body>
</html>
